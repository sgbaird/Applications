(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    208670,       5503]
NotebookOptionsPosition[    191642,       5147]
NotebookOutlinePosition[    194395,       5212]
CellTagsIndexPosition[    194308,       5207]
WindowTitle->SynthesiseStructure
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {Cell["MAXRD SYMBOL", "PacletNameCell"], Cell[TextData[{
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "Tutorials",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"Tutorials", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"Using the rotation options\"\>":>
       Documentation`HelpLookup["paclet:MaXrd/tutorial/UsingRotationMaps"]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"Tutorials"]],
      LineSpacing->{1.4, 0}],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "See Also",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"See Also", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"ExpandCrystal\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/ExpandCrystal"], "\<\"EmbedStructure\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/EmbedStructure"], "\<\"ConstructDomains\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/ConstructDomains"], "\<\"DistortStructure\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/DistortStructure"], "\<\"CrystalPlot\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/CrystalPlot"], "\<\"SimulateDiffractionPattern\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/SimulateDiffractionPattern"], "\<\"DomainPlot\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/DomainPlot"], "\<\"ResetCrystalData\"\>":>
       Documentation`HelpLookup[
       "paclet:MaXrd/ref/ResetCrystalData"], "\<\"$CrystalData\"\>":>
       Documentation`HelpLookup["paclet:MaXrd/ref/$CrystalData"]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"SeeAlso"]],
      LineSpacing->{1.4, 0}],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "Related Guides",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"Related Guides", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->
         False], {"\<\"MaXrd: Mathematica X-ray diffraction package\"\>":>
       Documentation`HelpLookup["paclet:MaXrd/guide/MaXrd"]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"MoreAbout"]],
      LineSpacing->{1.4, 0}],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "URL",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"URL", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"MaXrd/ref/SynthesiseStructure\"\>":>
       None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
       Module[{DocumentationSearch`Private`nb$}, 
        DocumentationSearch`Private`nb$ = NotebookPut[
           Notebook[{
             Cell["MaXrd/ref/SynthesiseStructure"]}, Visible -> False]]; 
        SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
        FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
        NotebookClose[DocumentationSearch`Private`nb$]; Null], 
       Delimiter, "\<\"Copy web URL\"\>":>
       Module[{DocumentationSearch`Private`nb$}, 
        DocumentationSearch`Private`nb$ = NotebookPut[
           Notebook[{
             Cell[
              BoxData[
               MakeBoxes[
                Hyperlink[
                "http://reference.wolfram.com/language/MaXrd/ref/\
SynthesiseStructure.html"], StandardForm]], "Input", TextClipboardType -> 
              "PlainText"]}, Visible -> False]]; 
        SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
        FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
        NotebookClose[DocumentationSearch`Private`nb$]; 
        Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
         NotebookLocate[{
           URL[
            StringJoin[
             If[
              TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$40137], 
              "http://reference.wolfram.com/system-modeler/", 
              "http://reference.wolfram.com/language/"], 
             "MaXrd/ref/SynthesiseStructure", ".html"]], None}]}]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"URLMenu"]],
      LineSpacing->{1.4, 0}]
    }], "AnchorBar"]}
  }]], "AnchorBarGrid",
 CellID->1],

Cell[CellGroupData[{

Cell[TextData[{
 Cell["SynthesiseStructure", "ObjectName"],
 Cell[BoxData[
  TemplateBox[{8},
   "Spacer1"]]],
 Cell[BoxData[""], "ObjectNameTranslation"]
}], "ObjectNameGrid"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["SynthesiseStructure"]], 
         "paclet:MaXrd/ref/SynthesiseStructure"},
        "RefLink",
        BaseStyle->{"InlineFormula"}], "[", 
       RowBox[{
        StyleBox["entities", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["A", "TI"], ",", 
          StyleBox["B", "TI"], ",", 
          StyleBox["C", "TI"]}], "}"}], ",", 
        StyleBox["label", "TI"]}], "]"}]], "InlineFormula"],
     " \[LineSeparator]assembles ",
     Cell[BoxData[
      StyleBox["entities", "TI"]], "InlineFormula"],
     " to a structure with size ",
     Cell[BoxData[
      RowBox[{
       StyleBox["A", "TI"], "\[Times]", 
       StyleBox["B", "TI"], "\[Times]", 
       StyleBox["C", "TI"]}]], "InlineFormula"],
     " to be named ",
     Cell[BoxData[
      StyleBox["label", "TI"]], "InlineFormula"],
     "."
    }]]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["SynthesiseStructure"]], 
         "paclet:MaXrd/ref/SynthesiseStructure"},
        "RefLink",
        BaseStyle->{"InlineFormula"}], "[", 
       RowBox[{
        StyleBox["domain", "TI"], ",", 
        StyleBox["label", "TI"], ",", 
        StyleBox["map", "TI"]}], "]"}]], "InlineFormula"],
     "\[LineSeparator]assembles the ",
     Cell[BoxData[
      StyleBox["domain", "TI"]], "InlineFormula"],
     " to a structure called ",
     Cell[BoxData[
      StyleBox["label", "TI"]], "InlineFormula"],
     " with ",
     Cell[BoxData[
      StyleBox["map", "TI"]], "InlineFormula"],
     " associating the domain identifiers with crystal labels."
    }]]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["SynthesiseStructure"]], 
         "paclet:MaXrd/ref/SynthesiseStructure"},
        "RefLink",
        BaseStyle->{"InlineFormula"}], "[", 
       StyleBox["X", "TI"], "]"}]], "InlineFormula"],
     "\[LineSeparator]creates a crystal with a single atom at the origin of \
the chemical element ",
     Cell[BoxData[
      StyleBox["X", "TI"]], "InlineFormula"],
     "."
    }]]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["SynthesiseStructure"]], 
         "paclet:MaXrd/ref/SynthesiseStructure"},
        "RefLink",
        BaseStyle->{"InlineFormula"}], "[", 
       RowBox[{
        ButtonBox[
         StyleBox["X", "TI"],
         BaseStyle->"Link"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["a", "TI"], ",", 
          StyleBox["b", "TI"], ",", 
          StyleBox["c", "TI"], ",", 
          StyleBox["\[Alpha]", "TR"], ",", 
          StyleBox["\[Beta]", "TR"], ",", 
          StyleBox["\[Gamma]", "TR"]}], "}"}], ",", 
        StyleBox["sg", "TI"], ",", 
        StyleBox["label", "TI"]}], "]"}]], "InlineFormula"],
     "\[LineSeparator]creates a crystal with a single element ",
     Cell[BoxData[
      StyleBox["X", "TI"]], "InlineFormula"],
     " with given lattice parameters ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        StyleBox["a", "TI"], ",", 
        StyleBox["b", "TI"], ",", 
        StyleBox["c", "TI"], ",", 
        StyleBox["\[Alpha]", "TR"], ",", 
        StyleBox["\[Beta]", "TR"], ",", 
        StyleBox["\[Gamma]", "TR"]}], "}"}]], "InlineFormula"],
     " and space group ",
     Cell[BoxData[
      StyleBox["sg", "TI"]], "InlineFormula"],
     ", stored under ",
     Cell[BoxData[
      StyleBox["label", "TI"]], "InlineFormula"],
     "."
    }]]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{
  "Columns" -> {{None}}, "Rows" -> {None, None, None, {None}}}},
 CellID->982511436]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    TemplateBox[{6},
     "Spacer1"]]],
   "Details and Options"
  }], "NotesFrameText"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->"Preemptive"]]]], "NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->549857019],

Cell["", "SectionHeaderSpacer"],

Cell[TextData[{
 "Input parameter ",
 Cell[BoxData[
  StyleBox["entities", "TI"]], "InlineFormula"],
 " should be a list containing one or more of the following items (as \
strings): chemical elements, the literal keyword ",
 StyleBox["\"Void\"", "InlineCode"],
 " and/or crystals (keys of ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["$CrystalData"]], "paclet:MaXrd/ref/$CrystalData"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula"],
 "). Using chemical symbols will create cubic \[OpenCurlyDoubleQuote]dummy\
\[CloseCurlyDoubleQuote] cells with a single atom at the origin."
}], "Notes",
 CellID->1067943069],

Cell[TextData[{
 Cell[BoxData[
  StyleBox["map", "TI"]], "InlineFormula"],
 " may be omitted if the domain identifiers have already been replaced by \
entity labels. Unresolved integers will be mapped to ",
 StyleBox["\"Void\"", "InlineCode"],
 "."
}], "Notes",
 CellID->1519274391],

Cell[TextData[{
 Cell[BoxData[
  StyleBox["domain", "TI"]], "InlineFormula"],
 " should be on the same form as produced by ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ConstructDomains"]], "paclet:MaXrd/ref/ConstructDomains"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula"],
 ". The ",
 Cell[BoxData[
  StyleBox["map", "TI"]], "InlineFormula"],
 " parameter can be omitted if the ",
 Cell[BoxData[
  StyleBox["domain", "TI"]], "InlineFormula"],
 " already contains crystal labels. Different domains can map to the same \
crystal while differentiating any rotations."
}], "Notes",
 CellID->422530408],

Cell["Options include:", "Notes",
 CellID->1485514993],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon"], "\"\<Padding\>\"", 
    ButtonBox["False",
     BaseStyle->"Link",
     ButtonData->"paclet:ref/False"], Cell[
    "whether to pad structure internally with empty cells", "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<SelectionMethod\>\"", 
    "\"\<Sequential\>\"", Cell[TextData[Cell[
    "method for choosing items from the input blocks", "TableText"]], 
     "TableText"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, {None}}},
 GridBoxDividers->{"Rows" -> {{True, True, True}}}},
 CellID->1407269227],

Cell[TextData[{
 "In addition to rotation options (see also the tutorial ",
 StyleBox[ButtonBox["Using the rotation options",
  BaseStyle->"Link",
  ButtonData->"paclet:MaXrd/tutorial/UsingRotationMaps"],
  FontSlant->"Italic"],
 "):"
}], "Notes",
 CellID->956015342],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon"], "\"\<RotationAnchorReference\>\"", 
    "\"\<DomainCentroid\>\"", Cell[TextData[Cell[
    "which point to perform rotation about", "TableText"]], "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<RotationAnchorShift\>\"", 
    RowBox[{"{", 
     RowBox[{"0", ",", " ", "0", ",", " ", "0"}], "}"}], Cell[TextData[Cell[
    TextData[{
     "translation of the anchor point ",
     Cell[BoxData[
      FormBox[
       RowBox[{"[", "\[CapitalARing]", "]"}], TraditionalForm]], 
      "InlineMath"]
    }], "TableText"]], "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<RotationAxes\>\"", 
    RowBox[{
     ButtonBox["IdentityMatrix",
      BaseStyle->"Link",
      ButtonData->"paclet:ref/IdentityMatrix"], "[", "3", "]"}], Cell[
    TextData[Cell[
    "three vectors defining the rotation axes", "TableText"]], "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<RotationMap\>\"", 
    RowBox[{"<|", "|>"}], Cell[TextData[Cell[
    "execute rotations of domains", "TableText"]], "TableText"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{
  "Columns" -> {{None}}, "Rows" -> {None, None, None, {None}}},
 GridBoxDividers->{"Rows" -> {{True, True, True, True, True}}}},
 CellID->1399050214],

Cell[TextData[{
 "The crystal items in ",
 Cell[BoxData[
  StyleBox["blocks", "TI"]], "InlineFormula"],
 " are duplicated until there are at least ",
 Cell[BoxData[
  FormBox[
   RowBox[{"A", "\[Times]", "B", "\[Times]", "C"}], TraditionalForm]], 
  "InlineMath"],
 " units. The option ",
 Cell[BoxData["\"\<SelectionMethod\>\""], "InlineFormula"],
 " supports the following settings:"
}], "Notes",
 CellID->742680128],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon"], "\"\<Random\>\"", Cell["\<\
at each lattice position of the structure, a random entity is drawn\
\>", "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<Sequential\>\"", Cell[
    "entities repeat in the order the are input", "TableText"]},
   {Cell["      ", "TableRowIcon"], "\"\<Shuffled\>\"", Cell["\<\
entities have the same relative ratio as input, but arranged randomly\
\>", "TableText"]}
  }]], "2ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}},
 GridBoxDividers->{"Rows" -> {{True, True, True, True}}}},
 CellID->1785256896],

Cell[TextData[{
 "If ",
 Cell[BoxData[
  RowBox[{"\"\<Padding\>\"", "\[Rule]", "True"}]], "InlineFormula"],
 ", the ",
 Cell[BoxData[
  StyleBox["entities", "TI"]], "InlineFormula"],
 " are not placed \
\[OpenCurlyDoubleQuote]edge-to-edge\[CloseCurlyDoubleQuote], but with a void \
between them equal to the size of each block."
}], "Notes",
 CellID->747782077],

Cell[TextData[{
 "If ",
 Cell[BoxData["\"\<OverlapPrecedence\>\""], "InlineFormula"],
 " is set to ",
 Cell[BoxData["\"\<Host\>\""], "InlineFormula"],
 " the blocks placed first will effectively be kept if another block has \
overlapping atoms. If set to ",
 Cell[BoxData["\"\<Guest\>\""], "InlineFormula"],
 ", the most recently placed blocks will be kept. By default no measure is \
taken for detecting or removing overlapping atoms."
}], "Notes",
 CellID->445986520],

Cell["", "SectionFooterSpacer"]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(8)", "ExampleCount"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CellTags->"PrimaryExamplesSection",
 CellID->824785292],

Cell[CellGroupData[{

Cell[TextData[{
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->159461259],

Cell["\<\
Building a simple structure with three chemical elements as entities:\
\>", "ExampleText",
 CellID->395390669],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<Fe\>\"", ",", "\"\<Ge\>\"", ",", "\"\<Zn\>\""}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"5", ",", "4", ",", "3"}], "}"}], ",", "\"\<Demo\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->1500084331],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
   {RGBColor[0.878431, 0.4, 0.2], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGAQAWJmBmKBiAN2cRUc4npo4rj0w8TR5WF8dPNh4ujm43IH
TBzdfJg4uj4YH918dD66OLr5MHF082Hi6OaZ4DAfJo5uPkwc3XyYOMJ8AApj
Dek=
     "], 1.32]}, 
   {RGBColor[0.60508, 0.632465, 0.576489], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGAQAWJmBlxAxAE7H11cBYe4Hpo4IfNw0ejmw2h082Hq0M3H
pV8FhzyMj24+jI9uPi5/wsTRzddDo2HiJjjMN0FThy6Obj5MHGE+AOsOFHk=

     "], 1.2]}, 
   {RGBColor[0.490196, 0.501961, 0.690196], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGAQAWJmBlxAxQGVL+KAXVwFh7gemrgImjy6OLr56Hx0cXTz
CbkLl3m4aHTzYXx082Hi6Objcp8eDnkTHObDxNHNN0Hjo4sjzAcACqwVuQ==

     "], 1.22]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[1]=",
 CellID->138820997]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->1293636265],

Cell["Using a unit cell of quartz (with two other \
\[OpenCurlyDoubleQuote]variations\[CloseCurlyDoubleQuote]) ", "ExampleText",
 CellID->1893812262],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ExpandCrystal", "[", 
   RowBox[{"\"\<Quartz\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}], ",", 
    RowBox[{"\"\<NewLabel\>\"", "\[Rule]", "\"\<BlockA\>\""}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppendTo", "[", 
   RowBox[{"$CrystalData", ",", 
    RowBox[{
     RowBox[{"\"\<BlockB\>\"", "\[Rule]", 
      RowBox[{"$CrystalData", "[", "\"\<BlockA\>\"", "]"}]}], "/.", 
     RowBox[{"\"\<Si\>\"", "\[Rule]", "\"\<P\>\""}]}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppendTo", "[", 
   RowBox[{"$CrystalData", ",", 
    RowBox[{
     RowBox[{"\"\<BlockC\>\"", "\[Rule]", 
      RowBox[{"$CrystalData", "[", "\"\<BlockA\>\"", "]"}]}], "/.", 
     RowBox[{"\"\<Si\>\"", "\[Rule]", "\"\<B\>\""}]}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "@", 
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<BlockA\>\"", ",", "\"\<BlockB\>\"", ",", "\"\<BlockC\>\""}],
      "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"4", ",", "4", ",", "1"}], "}"}], ",", "\"\<Demo\>\""}], 
   "]"}]}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->1676600577],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {4.914, 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], 
    Arrow3DBox[Line3DBox[{{0, 0, 0}, {-2.457, 4.255648834196731, 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.406}}]]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     0.}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 0.}, {2.457, 4.255648834196731, 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4.914, 0., 0.}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {-2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.406}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 0., 5.406}, {-2.457, 4.255648834196731, 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 5.406}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 5.406}, {2.457, 4.255648834196731, 5.406}}]}, 
   {RGBColor[0.941176, 0.784314, 0.627451], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGBQAWJmIObqWFLIXMnkwAAFicf+8v+58sceIv5p/3Lrt7ZP
/v23d2qd9PTfFR4HoUv7T96+9sV+WfmuOnkehD50ccstJ8r2zRd1cAi4deDQ
u0P793bdOHeCVdABZr6E2KSmWGE+B3TzJ/zfsTnVXuSAzAUXs7UdmnD1Z4yq
VER4FQ9MLGfa19mh6wBTL+gvXWXgJnGANe+z6FZuPbh70MVh7hEH2yt3AOIe
Q7j5IoUtYYVPeDDMh4UPRL0iXD0HNHyMjKaFLWVVhasXgIWDRvu6Cx2qcPeg
i6OHD7p/YeGDbv6Zw+smmcQoO6CH5yRFpQnL7ko4LL8ZfK+RVRKunndOrf75
CEWHCcdM+25wS8Hdgy4Oc48QOBxkMPwboP5K7LSTGob5kHgxxEg/UzaF/Tum
o40Rv2/mPSxK5DZwQE8/6OIw94Tcak/UMdDF8G/vk+lp8Q1GGOafg4YPenjC
wgc9fmHhgJ5+0MVh7hFBCR9DjPBBNx8Azbl/Jw==
     "], 1.11]}, 
   {RGBColor[0.800498, 0.201504, 0.192061], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxl01lIVHEUBnDtaqkz7kvm0qjpODq5tSApef+hkVuhg5iGlEguKamYwZhZ
OSgqSC4VSINpjkrpg6FEiZYXI2PciiyEQsKc3OohlxHTEfPh/O/DuQ/n7YPz
Pfw+z4wCReY+IyOj9L1j9m5DMqd+ta1n+xItOlr9V1kZcRhvUq2yOzZckd+a
OanI8UmdWZxjoxjz/NHuA+T4/NUm7f79pKzx57q5gSHdiskOH5E9kWkfff24
8ZnVmzYnWksMbGD7u0jnXRsiDStv8U1aGXryRx53ZsOMBGRW3+19wJAXdaFJ
C0eX2NSB7HOXbC1JoXiqaqRdx9K8v8R1s7DekdA+g5CfCN0p0ansCe0TDH+3
p2K0E4wr32fxxm6bY4wxFzbOamotnQnt4zVadJ1RiDlxeX7x0j13vk9UY3RD
Xv/WUG5O7erN+xK+D82vfSmZc4s7wveJgPzZ2dz25Cgvvg/9mxZkGz9mIuX7
3P6U0qpS2nGlcnF/V40336eptLHyn+Eg96tS45ka6cv3cQ6X9ylUNtzDkt50
SayM70PzCpf5WONJOd/HCfIa6bQo/IM/36cU/g4Ul/X1VAXyfZiFkIJb8W7c
t0KlR504gO9joz3ZpVz04KLGrGtOjwTxfVoSTVSxyS5cyRVrXXlWMN9HpO+q
mJEeItjPiEuNfDjBQ+BH2qq7ltR9WOCntUakTpt2INiP2RtN3liHFcF+GMmp
6toJJ4L9mEMe+zGFPPZD/2I/1Dn2sw57wX42YS/YD81jPwbIYz/H4C/24wHO
sR8Z7AX7eQZ7wX5oHvt5DXnsh/7FfpbBOfbjDXvBfqJhL9iPZUNgQ1a2VODn
fEjGVr+3v8DP46wxps3PT+An5ftlt07WW+BHazr8PLfMU+DHrFNv9zbMR+CH
5rEfC8hjPxfhL/YjA+fYD90L9vMe9oL90Dz2Q/eF/fjCX+znKTjHfui+sB+6
L+yH5rEfui/sh+4L+zkBzrGfv7AX7IfuC/sZnWKCe9yDBX6WNc26FEOIwE99
hGJp/E6IwM+PldDfzfaBAj8JbmplRqJc4Kd+cHL2pVWQwA/NYz+NkMd+ZuAv
9qMG59iPGPaC/cTDXrAfmsd+LkAe+6H7wn7ovrAfuhfsh+4L+6F57IfuC/tJ
hr/YD90X9mMBe8F+6L6wn/9EAtVd
     "], 0.66]}, 
   {RGBColor[1., 0.501961, 0], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGCQA2JmIHYIuHXg0LtD+/d23Th3glXQIfHYX/4/V/7YCxe2
hBU+4Tmw/GbwvUZWSQen1klP/13hceDqWFLIXPlp/4Rjpn03uKUcGKAAXdxy
y4myffNFHYQu7T95+xrLAYj5inDzIeJf7NHNh9grAzcXpl5CbFJTrDCfw3Lr
t7ZP/v23h6mfpKg0YdldCYdl5bvq5HmY4PrQxWHu6Yla3V4pIOyA7l/eObX6
5yMUMcyHhY/MBReztR2acPUi0PCZWM60r7NDF+5+Hmg4sOZ9Ft3KrQd3D7o4
9vAxhJsvAA0fdPOFoOGDHp6w8DEymha2lFUVrn4yLBw02tdd6FCFuwddHOae
bmj4oPsXFj7o5ofcak/UMdDFCM8A9Vdip53UHNDjd8qmsH/HdLQd0NMPujjM
PYL+0lUGbhoY/n0z72FRIrcBhvkArL9G0g==
     "], 1.07]}, 
   {RGBColor[1., 0.709804, 0.709804], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGCQA2JmIBa6tP/k7WssB/Z23Th3glXRIfHYX/4/V/7YC/hL
Vxm4SRwwMpoWtpRV1cGpddLTf1d4HEQKW8IKn/AcWKbRvu5Ch6oDAxSgi1tu
OVG2b76ow4T/Ozan2osckLngYra2QxNuPkfHkkLmyk/70c3viVrdXikg7ABx
jyBcPcSdX+yX3wy+18gqCVcvLjapKVaYz2HCMdO+G9xScPegi8PcwwW2l8kB
3b+TFJUmLLsr4YBuPiQcNODmwtTzzqnVPx+h6LDc+q3tk3//7WHqA9VfiZ12
UnNYVr6rTp6HCa4PXRzmnjOH100yiVHG8O+UTWH/juloY5jfDQ0f9PAUgIbP
xHKmfZ0dunD3S0DDgTXvs+hWbj24e9DFYe7hQAkfQ4zwQTdfEBo+6OEJCx/0
+A2AhQNa+kEXh7nnHDR80P0LCx908wGbdjeA
     "], 0.85]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->NCache[90 Degree, 1.5707963267948966`],
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{0, 0, 
    DirectedInfinity[1]},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1177624780]
}, Open  ]],

Cell[TextData[{
 "A domain can be generated with ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ConstructDomains"]], "paclet:MaXrd/ref/ConstructDomains"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula"],
 " and assembled with crystal entities according to its design:"
}], "ExampleText",
 CellID->1491625736],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", 
   RowBox[{"ConstructDomains", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"5", ",", "5", ",", "1"}], "}"}], ",", "3", ",", "2"}], "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{"DomainPlot", "@", "domain"}]}], "Input",
 CellLabel->"In[5]:=",
 CellID->1170983012],

Cell[BoxData[
 GraphicsBox[
  {Opacity[1.], 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{0., 0.}, {1., 0.}, {1., 1.}, {0., 1.}}],
     Parallelepiped[{0., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{0., 1.}, {1., 1.}, {1., 2.}, {0., 2.}}],
     Parallelepiped[{0., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{0., 2.}, {1., 2.}, {1., 3.}, {0., 3.}}],
     Parallelepiped[{0., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{0., 3.}, {1., 3.}, {1., 4.}, {0., 4.}}],
     Parallelepiped[{0., 3.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{0., 4.}, {1., 4.}, {1., 5.}, {0., 5.}}],
     Parallelepiped[{0., 4.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{1., 0.}, {2., 0.}, {2., 1.}, {1., 1.}}],
     Parallelepiped[{1., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{1., 1.}, {2., 1.}, {2., 2.}, {1., 2.}}],
     Parallelepiped[{1., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{1., 2.}, {2., 2.}, {2., 3.}, {1., 3.}}],
     Parallelepiped[{1., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{1., 3.}, {2., 3.}, {2., 4.}, {1., 4.}}],
     Parallelepiped[{1., 3.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{1., 4.}, {2., 4.}, {2., 5.}, {1., 5.}}],
     Parallelepiped[{1., 4.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 0, 1], 
    InterpretationBox[PolygonBox[{{2., 0.}, {3., 0.}, {3., 1.}, {2., 1.}}],
     Parallelepiped[{2., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{2., 1.}, {3., 1.}, {3., 2.}, {2., 2.}}],
     Parallelepiped[{2., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{2., 2.}, {3., 2.}, {3., 3.}, {2., 3.}}],
     Parallelepiped[{2., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{2., 3.}, {3., 3.}, {3., 4.}, {2., 4.}}],
     Parallelepiped[{2., 3.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{2., 4.}, {3., 4.}, {3., 5.}, {2., 5.}}],
     Parallelepiped[{2., 4.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 0, 1], 
    InterpretationBox[PolygonBox[{{3., 0.}, {4., 0.}, {4., 1.}, {3., 1.}}],
     Parallelepiped[{3., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 0, 1], 
    InterpretationBox[PolygonBox[{{3., 1.}, {4., 1.}, {4., 2.}, {3., 2.}}],
     Parallelepiped[{3., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{3., 2.}, {4., 2.}, {4., 3.}, {3., 3.}}],
     Parallelepiped[{3., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{3., 3.}, {4., 3.}, {4., 4.}, {3., 4.}}],
     Parallelepiped[{3., 3.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{3., 4.}, {4., 4.}, {4., 5.}, {3., 5.}}],
     Parallelepiped[{3., 4.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 0, 1], 
    InterpretationBox[PolygonBox[{{4., 0.}, {5., 0.}, {5., 1.}, {4., 1.}}],
     Parallelepiped[{4., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 0, 1], 
    InterpretationBox[PolygonBox[{{4., 1.}, {5., 1.}, {5., 2.}, {4., 2.}}],
     Parallelepiped[{4., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{4., 2.}, {5., 2.}, {5., 3.}, {4., 3.}}],
     Parallelepiped[{4., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{4., 3.}, {5., 3.}, {5., 4.}, {4., 4.}}],
     Parallelepiped[{4., 3.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{4., 4.}, {5., 4.}, {5., 5.}, {4., 5.}}],
     Parallelepiped[{4., 4.}, {{1., 0.}, {0., 1.}}]]}},
  Frame->False]], "Output",
 CellLabel->"Out[6]=",
 CellID->1081557477]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"domain", ",", "\"\<Demo\>\"", ",", "\[IndentingNewLine]", 
    RowBox[{"<|", 
     RowBox[{
      RowBox[{"1", "\[Rule]", "\"\<BlockA\>\""}], ",", 
      RowBox[{"2", "\[Rule]", "\"\<BlockB\>\""}], ",", 
      RowBox[{"3", "\[Rule]", "\"\<BlockC\>\""}]}], "|>"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[7]:=",
 CellID->1434927731],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {4.914, 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], 
    Arrow3DBox[Line3DBox[{{0, 0, 0}, {-2.457, 4.255648834196731, 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.406}}]]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     0.}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 0.}, {2.457, 4.255648834196731, 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4.914, 0., 0.}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {-2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.406}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 0., 5.406}, {-2.457, 4.255648834196731, 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 5.406}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 5.406}, {2.457, 4.255648834196731, 5.406}}]}, 
   {RGBColor[1., 0.501961, 0], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGAwA2JmIObqWFLIXMnkwAAFicf+8v+58sceIv5p/3Lrt7ZP
/v23d2qd9PTfFR4HoUv7T96+9sV+WfmuOnkehD50ccstJ8r2zRd1cAi4deDQ
u0P793bdOHeCVdABZr6E2KSmWGE+B3TzcakXLmwJK3zCc2D5zeB7jaySDjD1
MHdOOGbad4NbCu4edHGYeyDuZDkAMV8Rbj7M/ejm41Iv4C9dZeAmccDIaFrY
UlZVuHoRqDuXabSvu9ChCncPujjMPRP+79icai9yQOaCi9naDk24+RxQ96Ob
DwkHGYz4whWekxSVJiy7K+GAHl/o4jD39EStbq8UEHZAD3/eObX65yMUMczH
pR5XeIpD3YkeX+jiMPfA0id6+MPcj27+mcPrJpnEKGO4B5d6mL/Q3YMuDk8/
0PBHd0+A+iux005qmO4xqlIR4TXEUD9lU9i/YzraDujx+3rew6JEbgMH9PSD
Lg5zT8it9kQdA10H9PTT92R6WnyDEYb5uNTD3D+xnGlfZ4cuXP1kqDtZ8z6L
buXWg7sHXRzmHki+0ID61xBu/huo+9HNx6UeFv4VcduFtrMaw9XD3Lnp5vp9
Pu7GcPegi8PcA0sPOWv7mKzdTeHmT4W6H918AJrDQmQ=
     "], 1.07]}, 
   {RGBColor[0.800498, 0.201504, 0.192061], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxl1X9M1HUcx3H0QA844AQRROgOOI6Di98oExf3beJSpOadN4Jy2VgiYSIR
bRBhcYMpG0ugcixGIj+sYM0m/SJNv9OBHQfkxKbVrmZcCOYfya+R4sw/3u/P
H6/vH/ffa/u8/3g87xtdfMR2YLWXl9fJJz/Vk9+Sbqrju4eLlkGrX19X4pzF
JK0fa3fMWR5p5cqEeV+poTSuyD0zZclV+ZaPDqyVMqZfa3euWSPVtf214Lui
kgZsE31x/iGSyfnxLz8vXbcs+nRag3QrluTeK9vDH2slY3b9qXj7/Uuf3jPv
fnZJLSUdOP7euQ9V0lcnsux3np61FJ0/+NxL6wKkCs3ksZFej4X3ibpNyxUt
oRLfc4H241mPajyOEInvSaV3H07uco6rNol7Zt563B26a5WcPWbpaQ4Il/ie
mNHKwyqbRtbUl1fNvh8l7slt29l6aOjBpbLS5rm3P9CJe3g/f6NmKnJ3rLgn
h/Y7bpf1FuTGiHv43X0p6/Jd3kZxz7vXCrsc1cFyrVkz1N9kEPe017Y1/rcS
Jv/d2BNdtD1e3BO+zTxoc2jlj2rOvarLM4l7eG+LmM5bNWEW92ygfY/xpv+2
q4ninlp693xV3eDZY8niHtWdtCPv5EfKv1VU609oksQ9Wufm/uoZvZzrCmp6
ZiRF3HPK6u3IK4iQa/YHeepLUsU9QbS/lZLwa6UpXdzTRfvV354eCupLE/fw
uwHuqoC8xgxxz/BRH91Wbawc9fLclaGr6eKevfbu1qrrcbJVnbPcYsgU9wR/
XW6KDo2RTY7hsIXPMsU9/ov9DW7jRgk9j0Q0mS/v0Ss8G7s8r9sHnlJ47mry
79h3c72EntU/9hxy9QVK6Fml23q8eXyDhJ59aY+efWiPnvld9MzdoecF6hc9
L1O/6Jn36HmF9ug5nd5Fz3rqDj2bqF/0/Dn1i555j56/pz165nfR813qDj0b
qF/0vJP6Rc962qNn3qPne/Queq6j7tAz94ueuXf0HNCa3Fpy0Kjw/Hxa8YMh
Q6LC8yclLlV3QoLCc+Hvr0SesRgUnp0+l78oq4tWeFafWQy+mB2n8Mx79OxH
e/T8Ir2Lnk3UHXrmftHzMPWLnnmPnrl39BxP76Ln09Qdeube0TP3jp55j565
d/TMvaPnTOoOPf9L/aJn7h09L9MePfMePafSu+iZu0PP3C965u87eh6dVKWe
jUpVeL7b0+kpXElTeG7Jsc2OHU1TeP7zftY/nSHJCs97Ijuqi61mheeWCxO3
vwlMUXjmPXpuoz16dtO76LmDukPPGuoXPedTv+iZ9+j5BdqjZ+4dPXPv6Jn7
Rc/cO3rmPXrm3tFzAb2Lnrl39OxH/aJn7h09a2iPnrl39Gygd9Ezd4eeuV/0
7E39oufA/RVhA2s3KzwnpfiN2ae3KDzfcF689lPpFoXn9Aa1e3Q+Q+H58MYf
Yr9sS1d4bp7de6vgzUyF5zdoj555j575XfTcSt2hZxf1i565X/TMvaNn3qNn
fhc9/0HdoWcb9YueuXf0bKU9euY9euZ30TN3h54DqV/0zN9r9Mx79Mz/D+iZ
30XP3B16dlG/6Jn7Rc//A5EP9nI=
     "], 0.66]}, 
   {RGBColor[0.941176, 0.784314, 0.627451], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGBwAmJmIJ7wf8fmVHuRAzIXXMzWdmg6JB77y//nyh/7M0ZV
KiK8igcmljPt6+zQdXBqnfT03xUeB0F/6SoDN4kDrHmfRbdy6zkwQAG6uOWW
E2X75os6iItNaooVljuwt+vGuROshnDzRQpbwgqf8GCYj0s9/75n3ALfVQ9U
xG0X2s5qDFcPc+emm+v3+bgbw92DLg5zT8C0rStWfVY+kLO2j8na3RRuvgDU
/ejmc3UsKWSuZHKAuEcRrp4DLP5pv5HRtLClrKpw9QKX9p+8fe2L/TKN9nUX
OlTh7kEXh7nHIeDWgUPvDu1HD38JcDjwOaCbj0s9rvDkgboTPb7QxWHuEQK7
kwUj/GHuRzcfp3oc4SkEdSd6fKGLw9wzEZo+0eMLFv7YzZfBiC9c4TlZUWnC
srsSDujxhS4Oc0931Or2SgFhB/Tw551Tq38+QhHDfFzqcYUnzJ3o8YUuDnMP
B0r6RIT/JKj70c3HpR5XeEpA3YkeX+jiMPc0QNMnenzB3I9uPqTc0MCIL1zh
GaD+Suy0kxpGfKGLw9xz7vC6SSYxyhjhP2VT2L9jOtoY5uNSjys8Ye5Ejy90
cZh7RFDSJyL8Ye5HNx+XelzhOQXqTvT4QheHuacHmj7R4wvmfnTzAWKGtyQ=

     "], 1.11]}, 
   {RGBColor[1., 0.709804, 0.709804], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGCQA2JmIBbwl64ycNNwYICCxGN/+f9c+WPPO6dW/3yEosNy
67e2T/79t3dqnfT03xUeh0D1V2KnndQclpXvqpPnYYLrQxe33HKibN98UYcz
h9dNMolRdtjbdePcCVZBB5j5UzaF/Tumo41h/hmjKhURXkMM9+BS/2bew6JE
bgMM96CLw9wTcqs9UcdAF8M9vU+mp8U3GGGYj0t9ANS/y28G32tklXSAqYe5
c8Ix074b3FJw96CLw9wjCA1/iPmKcPNh7kc3n3/fM26B76YY4YPL/fpaflGx
X00wwgddHOae3AoDCaEmYwz/Xsxn8YvOMscwH5d6XO6HuRM9fNDF4ekHmh7Q
w8cA6n508wFFkTpq
     "], 0.85]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->1.5707963267948966`,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{0., 0., 2.},
  ViewProjection->"Orthographic",
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0., 1., 0.}]], "Output",
 CellLabel->"Out[8]=",
 CellID->1648429437]
}, Open  ]],

Cell["\<\
If the domain identifiers (integers) have been replaced by labels, a map is \
not required:\
\>", "ExampleText",
 CellID->323679093],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"domain", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
  "=", 
  RowBox[{
   RowBox[{"domain", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"1", "\[Rule]", "\"\<BlockA\>\""}], ",", 
     RowBox[{"2", "\[Rule]", "\"\<BlockB\>\""}], ",", 
     RowBox[{"3", "\[Rule]", "\"\<BlockC\>\""}]}], "}"}]}]}]], "Input",
 CellLabel->"In[9]:=",
 CellID->1781058774],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"BlockB\"\>", ",", "\<\"BlockB\"\>", ",", "\<\"BlockB\"\>", 
   ",", "\<\"BlockA\"\>", ",", "\<\"BlockA\"\>", ",", "\<\"BlockB\"\>", 
   ",", "\<\"BlockB\"\>", ",", "\<\"BlockA\"\>", ",", "\<\"BlockA\"\>", 
   ",", "\<\"BlockA\"\>", ",", "\<\"BlockC\"\>", ",", "\<\"BlockB\"\>", 
   ",", "\<\"BlockA\"\>", ",", "\<\"BlockA\"\>", ",", "\<\"BlockA\"\>", 
   ",", "\<\"BlockC\"\>", ",", "\<\"BlockC\"\>", ",", "\<\"BlockA\"\>", 
   ",", "\<\"BlockA\"\>", ",", "\<\"BlockA\"\>", ",", "\<\"BlockC\"\>", 
   ",", "\<\"BlockC\"\>", ",", "\<\"BlockB\"\>", ",", "\<\"BlockB\"\>", 
   ",", "\<\"BlockB\"\>"}], "}"}]], "Output",
 CellLabel->"Out[9]=",
 CellID->1656820251]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"domain", ",", "\"\<Demo\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[10]:=",
 CellID->473147418],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {4.914, 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], 
    Arrow3DBox[Line3DBox[{{0, 0, 0}, {-2.457, 4.255648834196731, 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.406}}]]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     0.}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 0.}, {2.457, 4.255648834196731, 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4.914, 0., 0.}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 0.}, {-2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{2.457, 4.255648834196731, 0.}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.406}, {4.914, 0., 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 0., 5.406}, {-2.457, 4.255648834196731, 5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{-2.457, 4.255648834196731, 5.406}, {2.457, 4.255648834196731, 
     5.406}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{4.914, 0., 5.406}, {2.457, 4.255648834196731, 5.406}}]}, 
   {RGBColor[1., 0.501961, 0], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGAwA2JmIObqWFLIXMnkwAAFicf+8v+58sceIv5p/3Lrt7ZP
/v23d2qd9PTfFR4HoUv7T96+9sV+WfmuOnkehD50ccstJ8r2zRd1cAi4deDQ
u0P793bdOHeCVdABZr6E2KSmWGE+B3TzcakXLmwJK3zCc2D5zeB7jaySDjD1
MHdOOGbad4NbCu4edHGYeyDuZDkAMV8Rbj7M/ejm41Iv4C9dZeAmccDIaFrY
UlZVuHoRqDuXabSvu9ChCncPujjMPRP+79icai9yQOaCi9naDk24+RxQ96Ob
DwkHGYz4whWekxSVJiy7K+GAHl/o4jD39EStbq8UEHZAD3/eObX65yMUMczH
pR5XeIpD3YkeX+jiMPfA0id6+MPcj27+mcPrJpnEKGO4B5d6mL/Q3YMuDk8/
0PBHd0+A+iux005qmO4xqlIR4TXEUD9lU9i/YzraDujx+3rew6JEbgMH9PSD
Lg5zT8it9kQdA10H9PTT92R6WnyDEYb5uNTD3D+xnGlfZ4cuXP1kqDtZ8z6L
buXWg7sHXRzmHki+0ID61xBu/huo+9HNx6UeFv4VcduFtrMaw9XD3Lnp5vp9
Pu7GcPegi8PcA0sPOWv7mKzdTeHmT4W6H918AJrDQmQ=
     "], 1.07]}, 
   {RGBColor[0.800498, 0.201504, 0.192061], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxl1X9M1HUcx3H0QA844AQRROgOOI6Di98oExf3beJSpOadN4Jy2VgiYSIR
bRBhcYMpG0ugcixGIj+sYM0m/SJNv9OBHQfkxKbVrmZcCOYfya+R4sw/3u/P
H6/vH/ffa/u8/3g87xtdfMR2YLWXl9fJJz/Vk9+Sbqrju4eLlkGrX19X4pzF
JK0fa3fMWR5p5cqEeV+poTSuyD0zZclV+ZaPDqyVMqZfa3euWSPVtf214Lui
kgZsE31x/iGSyfnxLz8vXbcs+nRag3QrluTeK9vDH2slY3b9qXj7/Uuf3jPv
fnZJLSUdOP7euQ9V0lcnsux3np61FJ0/+NxL6wKkCs3ksZFej4X3ibpNyxUt
oRLfc4H241mPajyOEInvSaV3H07uco6rNol7Zt563B26a5WcPWbpaQ4Il/ie
mNHKwyqbRtbUl1fNvh8l7slt29l6aOjBpbLS5rm3P9CJe3g/f6NmKnJ3rLgn
h/Y7bpf1FuTGiHv43X0p6/Jd3kZxz7vXCrsc1cFyrVkz1N9kEPe017Y1/rcS
Jv/d2BNdtD1e3BO+zTxoc2jlj2rOvarLM4l7eG+LmM5bNWEW92ygfY/xpv+2
q4ninlp693xV3eDZY8niHtWdtCPv5EfKv1VU609oksQ9Wufm/uoZvZzrCmp6
ZiRF3HPK6u3IK4iQa/YHeepLUsU9QbS/lZLwa6UpXdzTRfvV354eCupLE/fw
uwHuqoC8xgxxz/BRH91Wbawc9fLclaGr6eKevfbu1qrrcbJVnbPcYsgU9wR/
XW6KDo2RTY7hsIXPMsU9/ov9DW7jRgk9j0Q0mS/v0Ss8G7s8r9sHnlJ47mry
79h3c72EntU/9hxy9QVK6Fml23q8eXyDhJ59aY+efWiPnvld9MzdoecF6hc9
L1O/6Jn36HmF9ug5nd5Fz3rqDj2bqF/0/Dn1i555j56/pz165nfR813qDj0b
qF/0vJP6Rc962qNn3qPne/Queq6j7tAz94ueuXf0HNCa3Fpy0Kjw/Hxa8YMh
Q6LC8yclLlV3QoLCc+Hvr0SesRgUnp0+l78oq4tWeFafWQy+mB2n8Mx79OxH
e/T8Ir2Lnk3UHXrmftHzMPWLnnmPnrl39BxP76Ln09Qdeube0TP3jp55j565
d/TMvaPnTOoOPf9L/aJn7h09L9MePfMePafSu+iZu0PP3C965u87eh6dVKWe
jUpVeL7b0+kpXElTeG7Jsc2OHU1TeP7zftY/nSHJCs97Ijuqi61mheeWCxO3
vwlMUXjmPXpuoz16dtO76LmDukPPGuoXPedTv+iZ9+j5BdqjZ+4dPXPv6Jn7
Rc/cO3rmPXrm3tFzAb2Lnrl39OxH/aJn7h09a2iPnrl39Gygd9Ezd4eeuV/0
7E39oufA/RVhA2s3KzwnpfiN2ae3KDzfcF689lPpFoXn9Aa1e3Q+Q+H58MYf
Yr9sS1d4bp7de6vgzUyF5zdoj555j575XfTcSt2hZxf1i565X/TMvaNn3qNn
fhc9/0HdoWcb9YueuXf0bKU9euY9euZ30TN3h54DqV/0zN9r9Mx79Mz/D+iZ
30XP3B16dlG/6Jn7Rc//A5EP9nI=
     "], 0.66]}, 
   {RGBColor[0.941176, 0.784314, 0.627451], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGBwAmJmIJ7wf8fmVHuRAzIXXMzWdmg6JB77y//nyh/7M0ZV
KiK8igcmljPt6+zQdXBqnfT03xUeB0F/6SoDN4kDrHmfRbdy6zkwQAG6uOWW
E2X75os6iItNaooVljuwt+vGuROshnDzRQpbwgqf8GCYj0s9/75n3ALfVQ9U
xG0X2s5qDFcPc+emm+v3+bgbw92DLg5zT8C0rStWfVY+kLO2j8na3RRuvgDU
/ejmc3UsKWSuZHKAuEcRrp4DLP5pv5HRtLClrKpw9QKX9p+8fe2L/TKN9nUX
OlTh7kEXh7nHIeDWgUPvDu1HD38JcDjwOaCbj0s9rvDkgboTPb7QxWHuEQK7
kwUj/GHuRzcfp3oc4SkEdSd6fKGLw9wzEZo+0eMLFv7YzZfBiC9c4TlZUWnC
srsSDujxhS4Oc0931Or2SgFhB/Tw551Tq38+QhHDfFzqcYUnzJ3o8YUuDnMP
B0r6RIT/JKj70c3HpR5XeEpA3YkeX+jiMPc0QNMnenzB3I9uPqTc0MCIL1zh
GaD+Suy0kxpGfKGLw9xz7vC6SSYxyhjhP2VT2L9jOtoY5uNSjys8Ye5Ejy90
cZh7RFDSJyL8Ye5HNx+XelzhOQXqTvT4QheHuacHmj7R4wvmfnTzAWKGtyQ=

     "], 1.11]}, 
   {RGBColor[1., 0.709804, 0.709804], Opacity[1.], SphereBox[CompressedData["
1:eJxTTMoPSmViYGCQA2JmIBbwl64ycNNwYICCxGN/+f9c+WPPO6dW/3yEosNy
67e2T/79t3dqnfT03xUeh0D1V2KnndQclpXvqpPnYYLrQxe33HKibN98UYcz
h9dNMolRdtjbdePcCVZBB5j5UzaF/Tumo41h/hmjKhURXkMM9+BS/2bew6JE
bgMM96CLw9wTcqs9UcdAF8M9vU+mp8U3GGGYj0t9ANS/y28G32tklXSAqYe5
c8Ix074b3FJw96CLw9wjCA1/iPmKcPNh7kc3n3/fM26B76YY4YPL/fpaflGx
X00wwgddHOae3AoDCaEmYwz/Xsxn8YvOMscwH5d6XO6HuRM9fNDF4ekHmh7Q
w8cA6n508wFFkTpq
     "], 0.85]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->NCache[90 Degree, 1.5707963267948966`],
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{0, 0, 
    DirectedInfinity[1]},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[11]=",
 CellID->1237188570]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell["\t", "ExampleDelimiter"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->389065708],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", "\"\<Fe\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Fe\>\"", "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->1444558518],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
   {RGBColor[0.878431, 0.4, 0.2], Opacity[1.], 
    SphereBox[{{0., 0., 0.}}, 1.32]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1015321086]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"\"\<He\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1", ",", "60", ",", "90", ",", "90"}], 
     "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<He\>\"", "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->720230864],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {1., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 1., 0.}}]]}, 
   {RGBColor[0, 0, 1], 
    Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0.5, 0.8660254037844386}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 1., 0.}, {1., 1., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{1., 0., 0.}, {1., 1., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{1., 0., 0.}, {1., 0.5, 0.8660254037844386}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 1., 0.}, {0., 1.5, 0.8660254037844386}}]}, 
   {GrayLevel[0], Line3DBox[{{1., 1., 0.}, {1., 1.5, 0.8660254037844386}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 0.5, 0.8660254037844386}, {1., 0.5, 
     0.8660254037844386}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 0.5, 0.8660254037844386}, {0., 1.5, 
     0.8660254037844386}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 1.5, 0.8660254037844386}, {1., 1.5, 
     0.8660254037844386}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{1., 0.5, 0.8660254037844386}, {1., 1.5, 
     0.8660254037844386}}]}, 
   {RGBColor[0.836713, 1., 1.], Opacity[1.], SphereBox[{{0., 0., 0.}}, 0.28]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[2]=",
 CellID->683846926]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"\"\<Void\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"5", ",", "4", ",", "2", ",", "90", ",", "66", ",", "90"}], 
     "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Void\>\"", "]"}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->524533641],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 4., 0.}}]]}, 
   {RGBColor[0, 0, 1], 
    Arrow3DBox[
     Line3DBox[{{0, 0, 0}, {0.8134732861516004, 0., 
      1.8270909152852017`}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 0.}, {5., 4., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 4., 0.}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{5., 0., 0.}, {5.8134732861516, 0., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0., 4., 0.}, {0.8134732861516004, 4., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{5., 4., 0.}, {5.8134732861516, 4., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0.8134732861516004, 0., 1.8270909152852017`}, {
     5.8134732861516, 0., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0.8134732861516004, 0., 1.8270909152852017`}, {
     0.8134732861516004, 4., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{0.8134732861516004, 4., 1.8270909152852017`}, {
     5.8134732861516, 4., 1.8270909152852017`}}]}, 
   {GrayLevel[0], 
    Line3DBox[{{5.8134732861516, 0., 1.8270909152852017`}, {5.8134732861516, 
     4., 1.8270909152852017`}}]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0., 0., 1.}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1040334644]
}, Open  ]]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 "Options",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->2061341341],

Cell[CellGroupData[{

Cell[TextData[{
 "\"SelectionMethod\"",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CellID->541763087],

Cell["\<\
In this example, we will be building and using a couple of simple demo \
crystal structures:\
\>", "ExampleText",
 CellID->1308282002],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"cells", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<Po\>\"", ",", "\"\<Mo\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SynthesiseStructure", "/@", "cells"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "/@", "cells"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->1257803191],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[0.670588, 0.360784, 0], Opacity[1.], 
      SphereBox[{{0., 0., 0.}}, 1.4]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}], ",", 
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
      SphereBox[{{0., 0., 0.}}, 1.54]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}]}], "}"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->602266735]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"demoStructs", "=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"SynthesiseStructure", "[", 
     RowBox[{"cells", ",", 
      RowBox[{"{", 
       RowBox[{"9", ",", "7", ",", "1"}], "}"}], ",", 
      RowBox[{"s", "<>", "\"\<Demo\>\""}], ",", "\[IndentingNewLine]", 
      RowBox[{"\"\<SelectionMethod\>\"", "\[Rule]", "s"}]}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"s", ",", 
      RowBox[{"{", 
       RowBox[{
       "\"\<Random\>\"", ",", "\"\<Sequential\>\"", ",", "\"\<Shuffled\>\""}],
        "}"}]}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[2]:=",
 CellID->1198643280],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"RandomDemo\"\>", ",", "\<\"SequentialDemo\"\>", 
   ",", "\<\"ShuffledDemo\"\>"}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->745232005]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"GraphicsRow", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"CrystalPlot", "[", 
     RowBox[{"#", ",", 
      RowBox[{"ViewPoint", "\[Rule]", "Above"}]}], "]"}], "&"}], "/@", 
   "demoStructs"}], "]"}]], "Input",
 CellLabel->"In[3]:=",
 CellID->48596643],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     Graphics3DBox[{
       {RGBColor[1, 0, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
       {RGBColor[0, 1, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
       {RGBColor[0, 0, 1], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
       {RGBColor[0.670588, 0.360784, 0], Opacity[1.], 
        SphereBox[CompressedData["
1:eJyN0bEJgDAURdGgK2QBxTqVjY0oOIEjCNau4OhaeBEuflCweIfk/Q9ptmPd
q5RSe/91+vvl6dtHOed8ntwFXgIfAvdc99q9D+57ZO+D93Kfs3t/7nsf3Pvg
noN7H7Lnkj0Xdz/ufjzq97uQ3Y+7H3c/rv5zfnIOvATu/kXZ/r7LBUkMHaM=

         "], 1.4]}, 
       {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
        SphereBox[CompressedData["
1:eJx10LEJgEAMRuFDV7C1EKytrrERBSdwBMHaFRxdEZ7C0xxc4UdM/lyz7stW
pJTq65bJpx0/dJ8u8Bx4L6+COtx9yOE++CAnn+fg3gv3Xnw7D+650f64672P
3Tn9v9374upzTP99Ho/qc+DONQd5cL8z7vfD/U74O/cEMD0ZrQ==
         "], 1.54]}},
      ControllerMethod -> Automatic,
      AlignmentPoint->Center,
      AspectRatio->Automatic,
      Axes->False,
      AxesEdge->Automatic,
      AxesLabel->None,
      AxesOrigin->Automatic,
      AxesStyle->{},
      Background->None,
      BaseStyle->{},
      BaselinePosition->Automatic,
      BoxRatios->Automatic,
      BoxStyle->{},
      Boxed->False,
      ClipPlanes->None,
      ClipPlanesStyle->Automatic,
      ColorOutput->Automatic,
      ContentSelectable->Automatic,
      ControllerLinking->False,
      ControllerPath->Automatic,
      CoordinatesToolOptions:>Automatic,
      DisplayFunction->Identity,
      Epilog->{},
      FaceGrids->None,
      FaceGridsStyle->{},
      FormatType->TraditionalForm,
      ImageMargins->0.,
      ImagePadding->All,
      ImageSize->Automatic,
      ImageSizeRaw->Automatic,
      LabelStyle->{},
      Lighting->"Neutral",
      Method->Automatic,
      PlotLabel->None,
      PlotRange->All,
      PlotRangePadding->Automatic,
      PlotRegion->Automatic,
      PreserveImageOptions->Automatic,
      Prolog->{},
      RotationAction->"Fit",
      SphericalRegion->True,
      Ticks->Automatic,
      TicksStyle->{},
      TouchscreenAutoZoom->False,
      ViewAngle->Automatic,
      ViewCenter->Automatic,
      ViewMatrix->Automatic,
      ViewPoint->Above,
      ViewProjection->Automatic,
      ViewRange->All,
      ViewVector->Automatic,
      ViewVertical->{0, 0, 1}], {193.5, -189.}, ImageScaled[{0.5, 0.5}], {360, 360},
     
     ContentSelectable->True], InsetBox[
     Graphics3DBox[{
       {RGBColor[1, 0, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
       {RGBColor[0, 1, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
       {RGBColor[0, 0, 1], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
       {RGBColor[0.670588, 0.360784, 0], Opacity[1.], 
        SphereBox[CompressedData["
1:eJyN0EEKQEAYQOGJKzgAZT0rGxtRTuAIytoVHJ3NIy9/UZP+T2Ze06z7shUp
pfpaZfr7tOO3d4EP8mp8v+058F4edeD+zuxO3J10uBN3J7M7o3vB3Yn7P2Z3
cp47cXfi7vS+dnfi7sS13zF9d96eA3fnHHTi7sTdiT+dJ93iG4U=
         "], 1.4]}, 
       {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
        SphereBox[CompressedData["
1:eJx1z7EJgDAUANGgK9iLYG2VxkYUnMARBGtXcHRFOIXT/yFFHgm5NOu+bEVK
qb5WmTzV+KF7usB7eXQfb4PzOfBBzn2/g7sTd2f0H9yduDtxd3LOnbjfx93p
vd2duDtxd7J3J+5OXF3H9N/5uDofz4G7cw46cXfib+cJBJgbyw==
         "], 1.54]}},
      ControllerMethod -> Automatic,
      AlignmentPoint->Center,
      AspectRatio->Automatic,
      Axes->False,
      AxesEdge->Automatic,
      AxesLabel->None,
      AxesOrigin->Automatic,
      AxesStyle->{},
      Background->None,
      BaseStyle->{},
      BaselinePosition->Automatic,
      BoxRatios->Automatic,
      BoxStyle->{},
      Boxed->False,
      ClipPlanes->None,
      ClipPlanesStyle->Automatic,
      ColorOutput->Automatic,
      ContentSelectable->Automatic,
      ControllerLinking->False,
      ControllerPath->Automatic,
      CoordinatesToolOptions:>Automatic,
      DisplayFunction->Identity,
      Epilog->{},
      FaceGrids->None,
      FaceGridsStyle->{},
      FormatType->TraditionalForm,
      ImageMargins->0.,
      ImagePadding->All,
      ImageSize->Automatic,
      ImageSizeRaw->Automatic,
      LabelStyle->{},
      Lighting->"Neutral",
      Method->Automatic,
      PlotLabel->None,
      PlotRange->All,
      PlotRangePadding->Automatic,
      PlotRegion->Automatic,
      PreserveImageOptions->Automatic,
      Prolog->{},
      RotationAction->"Fit",
      SphericalRegion->True,
      Ticks->Automatic,
      TicksStyle->{},
      TouchscreenAutoZoom->False,
      ViewAngle->Automatic,
      ViewCenter->Automatic,
      ViewMatrix->Automatic,
      ViewPoint->Above,
      ViewProjection->Automatic,
      ViewRange->All,
      ViewVector->Automatic,
      ViewVertical->{0, 0, 1}], {580.5, -189.}, ImageScaled[{0.5, 0.5}], {360, 360},
     
     ContentSelectable->True], InsetBox[
     Graphics3DBox[{
       {RGBColor[1, 0, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
       {RGBColor[0, 1, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
       {RGBColor[0, 0, 1], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
       {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
        SphereBox[CompressedData["
1:eJyN0kEKQFAQh/GJK9hLWVvZ2IhyAkdQ1q7g6Gy+1JcJZfF+3vvPzEuzHete
RER9v2X8farp3dvEu8SHxEc59ZyP94k7H3d+1jfu76w9F+5+cNfN7gV3Du65
vM/u/jnv+rj79Nru/wF3XVz9n3OSs3y458Z9P/gzxwVfZxhw
         "], 1.54]}, 
       {RGBColor[0.670588, 0.360784, 0], Opacity[1.], 
        SphereBox[CompressedData["
1:eJx10DEOQEAQRuENV3AAEvVWGo2QOIEjSNSu4Og0j3iMRDGfsfvPNOu+bEVK
qb7eMvnpxnddjZ+Wl/s7dZa3QT/ey/nf/XgbuO+lHuTM6fNxn4N7P9TOj/te
99mdB/e8uPPgvoccngv3ObjyH5P67Mp5ew68C7wP3Puc//Pc7r3hT54TfgIe
4A==
         "], 1.4]}},
      ControllerMethod -> Automatic,
      AlignmentPoint->Center,
      AspectRatio->Automatic,
      Axes->False,
      AxesEdge->Automatic,
      AxesLabel->None,
      AxesOrigin->Automatic,
      AxesStyle->{},
      Background->None,
      BaseStyle->{},
      BaselinePosition->Automatic,
      BoxRatios->Automatic,
      BoxStyle->{},
      Boxed->False,
      ClipPlanes->None,
      ClipPlanesStyle->Automatic,
      ColorOutput->Automatic,
      ContentSelectable->Automatic,
      ControllerLinking->False,
      ControllerPath->Automatic,
      CoordinatesToolOptions:>Automatic,
      DisplayFunction->Identity,
      Epilog->{},
      FaceGrids->None,
      FaceGridsStyle->{},
      FormatType->TraditionalForm,
      ImageMargins->0.,
      ImagePadding->All,
      ImageSize->Automatic,
      ImageSizeRaw->Automatic,
      LabelStyle->{},
      Lighting->"Neutral",
      Method->Automatic,
      PlotLabel->None,
      PlotRange->All,
      PlotRangePadding->Automatic,
      PlotRegion->Automatic,
      PreserveImageOptions->Automatic,
      Prolog->{},
      RotationAction->"Fit",
      SphericalRegion->True,
      Ticks->Automatic,
      TicksStyle->{},
      TouchscreenAutoZoom->False,
      ViewAngle->Automatic,
      ViewCenter->Automatic,
      ViewMatrix->Automatic,
      ViewPoint->Above,
      ViewProjection->Automatic,
      ViewRange->All,
      ViewVector->Automatic,
      ViewVertical->{0, 0, 1}], {967.5, -189.}, ImageScaled[{0.5, 0.5}], {360, 360},
     
     ContentSelectable->True]}, {}},
  ImageSize->{
    UpTo[600], Automatic},
  PlotRange->{{0, 1161.}, {-378., 0}},
  PlotRangePadding->{6, 5}]], "Output",
 CellLabel->"Out[3]=",
 CellID->532738322]
}, Open  ]],

Cell[TextData[{
 "Both ",
 Cell[BoxData["\"\<Random\>\""], "InlineFormula"],
 " and ",
 Cell[BoxData["\"\<Shuffled\>\""], "InlineFormula"],
 " distribute the elements randomly, but the relative proportions of each \
entity remain the same (as close as possible) when using the latter setting."
}], "ExampleText",
 CellID->1097175581],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"AssociationMap", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"Tally", "@", 
     RowBox[{"$CrystalData", "\[LeftDoubleBracket]", 
      RowBox[{
      "#", ",", "\"\<AtomData\>\"", ",", "All", ",", "\"\<Element\>\""}], 
      "\[RightDoubleBracket]"}]}], "&"}], ",", 
   RowBox[{"{", 
    RowBox[{"\"\<RandomDemo\>\"", ",", "\"\<ShuffledDemo\>\""}], "}"}]}], 
  "]"}]], "Input",
 CellLabel->"In[4]:=",
 CellID->1442251089],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"RandomDemo\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"Po\"\>", ",", "34"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Mo\"\>", ",", "29"}], "}"}]}], "}"}]}], ",", 
   RowBox[{"\<\"ShuffledDemo\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"Mo\"\>", ",", "31"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Po\"\>", ",", "32"}], "}"}]}], "}"}]}]}], 
  "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->945862089]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 "\"RotationMap\"",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CellID->947367356],

Cell["\<\
In this example, we will be building and using a couple of simple demo \
crystal structures:\
\>", "ExampleText",
 CellID->1974495011],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "/@", 
   RowBox[{"{", 
    RowBox[{"\"\<Au\>\"", ",", "\"\<Ag\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"blockAu", ",", "blockAg"}], "}"}], "=", 
   RowBox[{"ExpandCrystal", "/@", 
    RowBox[{"{", 
     RowBox[{"\"\<Au\>\"", ",", "\"\<Ag\>\""}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "/@", 
  RowBox[{"{", 
   RowBox[{"blockAu", ",", "blockAg"}], "}"}]}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->272852786],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[1., 0.819608, 0.137255], Opacity[1.], 
      SphereBox[{{0., 0., 0.}, {0., 0., 5.}, {0., 5., 0.}, {0., 5., 5.}, {5., 
       0., 0.}, {5., 0., 5.}, {5., 5., 0.}, {5., 5., 5.}}, 1.36]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}], ",", 
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
      SphereBox[{{0., 0., 0.}, {0., 0., 5.}, {0., 5., 0.}, {0., 5., 5.}, {5., 
       0., 0.}, {5., 0., 5.}, {5., 5., 0.}, {5., 5., 5.}}, 1.45]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}]}], "}"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->132508451]
}, Open  ]],

Cell["\<\
Here we set up a simple domain and plot it. We need to shift the rotation \
anchors of each unit by a half for them to rotate about their origins.\
\>", "ExampleText",
 CellID->1280749984],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"3", ",", "3", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "1", ",", "2", ",", "1", ",", "2", ",", "1", ",", "2", ",", "1", ",", 
       "2", ",", "1"}], "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"DomainPlot", "[", 
  RowBox[{"domain", ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<RotationAnchorReference\>\"", "\[Rule]", "\"\<Unit\>\""}], 
   ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<RotationMap\>\"", "\[Rule]", 
    RowBox[{"<|", 
     RowBox[{"2", "\[Rule]", 
      RowBox[{"45", "\[Degree]"}]}], "|>"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<RotationAnchorShift\>\"", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0.5", ",", "0.5", ",", "0"}], "}"}]}]}], "\[IndentingNewLine]", 
  "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->2002752601],

Cell[BoxData[
 GraphicsBox[
  {Opacity[1.], 
   {RGBColor[1, 0, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{0., 0.}, {1., 0.}, {1., 1.}, {0., 1.}}],
      Parallelepiped[{0., 0.}, {{1., 0.}, {0., 1.}}]], {{{1., 0.}, {0., 
      1.}}, {0., 0.}}]}, 
   {RGBColor[0, 1, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{0., 1.}, {1., 1.}, {1., 2.}, {0., 2.}}],
      Parallelepiped[{0., 1.}, {{1., 0.}, {0., 1.}}]], {{{
      0.7071067811865476, -0.7071067811865475}, {0.7071067811865475, 
      0.7071067811865476}}, {1.2071067811865475`, 0.08578643762690485}}]}, 
   {RGBColor[1, 0, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{0., 2.}, {1., 2.}, {1., 3.}, {0., 3.}}],
      Parallelepiped[{0., 2.}, {{1., 0.}, {0., 1.}}]], {{{1., 0.}, {0., 
      1.}}, {0., 0.}}]}, 
   {RGBColor[0, 1, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{1., 0.}, {2., 0.}, {2., 1.}, {1., 1.}}],
      Parallelepiped[{1., 0.}, {{1., 0.}, {0., 1.}}]], {{{
      0.7071067811865476, -0.7071067811865475}, {0.7071067811865475, 
      0.7071067811865476}}, {0.7928932188134523, -0.9142135623730949}}]}, 
   {RGBColor[1, 0, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{1., 1.}, {2., 1.}, {2., 2.}, {1., 2.}}],
      Parallelepiped[{1., 1.}, {{1., 0.}, {0., 1.}}]], {{{1., 0.}, {0., 
      1.}}, {0., 0.}}]}, 
   {RGBColor[0, 1, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{1., 2.}, {2., 2.}, {2., 3.}, {1., 3.}}],
      Parallelepiped[{1., 2.}, {{1., 0.}, {0., 1.}}]], {{{
      0.7071067811865476, -0.7071067811865475}, {0.7071067811865475, 
      0.7071067811865476}}, {2.207106781186547, -0.32842712474618985`}}]}, 
   {RGBColor[1, 0, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{2., 0.}, {3., 0.}, {3., 1.}, {2., 1.}}],
      Parallelepiped[{2., 0.}, {{1., 0.}, {0., 1.}}]], {{{1., 0.}, {0., 
      1.}}, {0., 0.}}]}, 
   {RGBColor[0, 1, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{2., 1.}, {3., 1.}, {3., 2.}, {2., 2.}}],
      Parallelepiped[{2., 1.}, {{1., 0.}, {0., 1.}}]], {{{
      0.7071067811865476, -0.7071067811865475}, {0.7071067811865475, 
      0.7071067811865476}}, {1.7928932188134523`, -1.3284271247461898`}}]}, 
   {RGBColor[1, 0, 0], GeometricTransformationBox[
     InterpretationBox[PolygonBox[{{2., 2.}, {3., 2.}, {3., 3.}, {2., 3.}}],
      Parallelepiped[{2., 2.}, {{1., 0.}, {0., 1.}}]], {{{1., 0.}, {0., 
      1.}}, {0., 0.}}]}},
  Frame->False]], "Output",
 CellLabel->"Out[2]=",
 CellID->1742510693]
}, Open  ]],

Cell[TextData[{
 "In order to recreate this as a \[OpenCurlyDoubleQuote]real structure\
\[CloseCurlyDoubleQuote] we use the same rotation options, just with a \
three-dimensional setting of the ",
 Cell[BoxData["\"\<RotationMap\>\""], "InlineFormula"],
 " and a shift of the anchors that are half the blocks' lattice parameter \
(which are ",
 Cell[BoxData[
  FormBox[
   RowBox[{"5.0", " ", "\[CapitalARing]"}], TraditionalForm]], "InlineMath"],
 "):"
}], "ExampleText",
 CellID->675834675],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"GraphicsRow", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"CrystalPlot", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"SynthesiseStructure", "[", "\[IndentingNewLine]", 
       RowBox[{"domain", ",", "\"\<Demo\>\"", ",", "\[IndentingNewLine]", 
        RowBox[{"<|", 
         RowBox[{
          RowBox[{"1", "\[Rule]", "blockAu"}], ",", 
          RowBox[{"2", "\[Rule]", "blockAg"}]}], "|>"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
        "\"\<RotationAnchorReference\>\"", "\[Rule]", "\"\<Unit\>\""}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<RotationMap\>\"", "\[Rule]", 
         RowBox[{"<|", 
          RowBox[{"2", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", 
             RowBox[{"45", "\[Degree]"}]}], "}"}]}], "|>"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<RotationAnchorShift\>\"", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"2.5", ",", "2.5", ",", "0"}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Padding\>\"", "\[Rule]", "#"}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ViewPoint", "\[Rule]", "Above"}]}], "]"}], "&"}], "/@", 
   RowBox[{"{", 
    RowBox[{"False", ",", "True"}], "}"}]}], "]"}]], "Input",
 CellLabel->"In[3]:=",
 CellID->631003679],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     Graphics3DBox[{
       {RGBColor[1, 0, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
       {RGBColor[0, 1, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
       {RGBColor[0, 0, 1], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
       {RGBColor[1., 0.819608, 0.137255], Opacity[1.], 
        SphereBox[CompressedData["
1:eJxTTMoPSmViYGDQAGJmBlKBiAN+Pro4Ok2sebj0EZJXwWEPTBxdvR4O9TBx
dHvQzUcXR1ePbj66OLn+JdU9uPyPy90qaDS6elzmowNi3UfIPYTiCd189PBF
V08t/6Lbjy6O7h5089HF0dWjm48uLuIAAErbIIc=
         "], 1.36]}, 
       {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
        SphereBox[CompressedData["
1:eJxTTMoPSmViYGBQAGJmIP4PBswOjl8f/Lfczu/AAAXYxUUcGkTtGHomftgP
4cvB1WMXF3FIbOVnSFaRcEBXj11cBEqzOGw4xN5gKKQGV49dHKZezqEOxX4Y
QBcXgfuHCWoeTCV2cRE0+xDqsYsj3JOE4j+Ee1DFEeoDbH/Un3uriKEeVVwE
LT40MdyPKo7ufoR67OII90Q8ZD4gwWmA4R5UcZh6TQdXtPSDXVwE7h8mqHkw
ldjFRdDsQ6jHLo5wz0as6QddXMQBAPzzhok=
         "], 1.45]}},
      ControllerMethod -> Automatic,
      AlignmentPoint->Center,
      AspectRatio->Automatic,
      Axes->False,
      AxesEdge->Automatic,
      AxesLabel->None,
      AxesOrigin->Automatic,
      AxesStyle->{},
      Background->None,
      BaseStyle->{},
      BaselinePosition->Automatic,
      BoxRatios->Automatic,
      BoxStyle->{},
      Boxed->False,
      ClipPlanes->None,
      ClipPlanesStyle->Automatic,
      ColorOutput->Automatic,
      ContentSelectable->Automatic,
      ControllerLinking->False,
      ControllerPath->Automatic,
      CoordinatesToolOptions:>Automatic,
      DisplayFunction->Identity,
      Epilog->{},
      FaceGrids->None,
      FaceGridsStyle->{},
      FormatType->TraditionalForm,
      ImageMargins->0.,
      ImagePadding->All,
      ImageSize->Automatic,
      ImageSizeRaw->Automatic,
      LabelStyle->{},
      Lighting->"Neutral",
      Method->Automatic,
      PlotLabel->None,
      PlotRange->All,
      PlotRangePadding->Automatic,
      PlotRegion->Automatic,
      PreserveImageOptions->Automatic,
      Prolog->{},
      RotationAction->"Fit",
      SphericalRegion->True,
      Ticks->Automatic,
      TicksStyle->{},
      TouchscreenAutoZoom->False,
      ViewAngle->Automatic,
      ViewCenter->Automatic,
      ViewMatrix->Automatic,
      ViewPoint->Above,
      ViewProjection->Automatic,
      ViewRange->All,
      ViewVector->Automatic,
      ViewVertical->{0, 0, 1}], {192., -189.}, ImageScaled[{0.5, 0.5}], {360, 360},
     
     ContentSelectable->True], InsetBox[
     Graphics3DBox[{
       {RGBColor[1, 0, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
       {RGBColor[0, 1, 0], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
       {RGBColor[0, 0, 1], 
        Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
       {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
       {RGBColor[1., 0.819608, 0.137255], Opacity[1.], 
        SphereBox[CompressedData["
1:eJyV0bEJgEAMRuFDV7gFBAsrKxs7Z3AEwdr9O23SfBA9A3Lk+fxzxOG49rMr
pUzP05e/Vbf3Xu7Zmpd99/V+SeYE118TP7hzzJfrmy+PfuSMkuvPiR+80psv
1zdfnu0lqnVf+l97jGrdr372X72vXN/5cu9jvlzffHndbs4IIwc=
         "], 1.36]}, 
       {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
        SphereBox[CompressedData["
1:eJxTTMoPSmViYGBQAGJmIP73HwSYHQJsf9Sfe6vowAAF2MVFHBpE7Rh6Jn7Y
D+FrwtVjFxdxSGjlZ0hWkXBAV49dXARKszhEPGQ+IMFpAFePXRymXtOhBsV+
GEAXF4H7hwVqHkwldnERNPsQ6rGLI9yTiOI/hHtQxUUcGKHiK+T+2D//ZgRX
j11cxCEIOT4azODqsYujuR9JPXZxEQcmqL0QeSu4euziInD96OkHu7gImn8Q
6QG7uAjcPnBy/K+B5n50cYR7wrGlHwxxEQcA1YCWJw==
         "], 1.45]}},
      ControllerMethod -> Automatic,
      AlignmentPoint->Center,
      AspectRatio->Automatic,
      Axes->False,
      AxesEdge->Automatic,
      AxesLabel->None,
      AxesOrigin->Automatic,
      AxesStyle->{},
      Background->None,
      BaseStyle->{},
      BaselinePosition->Automatic,
      BoxRatios->Automatic,
      BoxStyle->{},
      Boxed->False,
      ClipPlanes->None,
      ClipPlanesStyle->Automatic,
      ColorOutput->Automatic,
      ContentSelectable->Automatic,
      ControllerLinking->False,
      ControllerPath->Automatic,
      CoordinatesToolOptions:>Automatic,
      DisplayFunction->Identity,
      Epilog->{},
      FaceGrids->None,
      FaceGridsStyle->{},
      FormatType->TraditionalForm,
      ImageMargins->0.,
      ImagePadding->All,
      ImageSize->Automatic,
      ImageSizeRaw->Automatic,
      LabelStyle->{},
      Lighting->"Neutral",
      Method->Automatic,
      PlotLabel->None,
      PlotRange->All,
      PlotRangePadding->Automatic,
      PlotRegion->Automatic,
      PreserveImageOptions->Automatic,
      Prolog->{},
      RotationAction->"Fit",
      SphericalRegion->True,
      Ticks->Automatic,
      TicksStyle->{},
      TouchscreenAutoZoom->False,
      ViewAngle->Automatic,
      ViewCenter->Automatic,
      ViewMatrix->Automatic,
      ViewPoint->Above,
      ViewProjection->Automatic,
      ViewRange->All,
      ViewVector->Automatic,
      ViewVertical->{0, 0, 1}], {576., -189.}, ImageScaled[{0.5, 0.5}], {360, 360},
     
     ContentSelectable->True]}, {}},
  ImageSize->{
    UpTo[600], Automatic},
  PlotRange->{{0, 768.}, {-378., 0}},
  PlotRangePadding->{6, 5}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1315453198]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell["\t", "ExampleDelimiter"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->367951646],

Cell["Consider this demo crystal:", "ExampleText",
 CellID->617629614],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"\"\<Void\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"4", ",", "4", ",", "7", ",", "90", ",", "90", ",", "90"}], 
     "}"}], ",", "\"\<P1\>\"", ",", "\"\<Demo\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EmbedStructure", "[", 
   RowBox[{
    RowBox[{"{", "\"\<Cl\>\"", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "1", ",", "0"}], "}"}]}], "}"}], ",", 
    "\"\<Demo\>\""}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EmbedStructure", "[", 
   RowBox[{
    RowBox[{"{", "\"\<Mo\>\"", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"1", "/", "2"}], ",", 
       RowBox[{"1", "/", "2"}], ",", 
       RowBox[{"1", "/", "4"}]}], "}"}], "}"}], ",", "\"\<Demo\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EmbedStructure", "[", 
   RowBox[{
    RowBox[{"{", "\"\<O\>\"", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"1", "/", "4"}], "+", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "h"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"s", ",", "0", ",", "h"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"s", "/", "2"}], ",", 
          RowBox[{
           RowBox[{
            SqrtBox["3"], "/", "2"}], "s"}], ",", "h"}], "}"}]}], "}"}]}], "/.", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"s", "\[Rule]", 
        RowBox[{"1", "/", "2"}]}], ",", 
       RowBox[{"h", "\[Rule]", 
        RowBox[{"1", "/", "3"}]}]}], "}"}]}], ",", "\[IndentingNewLine]", 
    "\"\<Demo\>\""}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EmbedStructure", "[", 
   RowBox[{
    RowBox[{"{", "\"\<S\>\"", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"1", "/", "2"}], ",", 
       RowBox[{"1", "/", "2"}], ",", 
       RowBox[{"4", "/", "5"}]}], "}"}], "}"}], ",", "\"\<Demo\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->1557894609],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {4., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 4., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 7.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 0.}, {4., 4., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 0.}, {4., 4., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 0.}, {4., 0., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 0.}, {0., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 4., 0.}, {4., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 7.}, {4., 0., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 7.}, {0., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 7.}, {4., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 7.}, {4., 4., 7.}}]}, 
   {RGBColor[0.412698, 0.932689, 0.166398], Opacity[1.], 
    SphereBox[{{0., 0., 0.}, {4., 0., 0.}, {0., 4., 0.}, {4., 4., 0.}}, 
     1.02]}, 
   {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
    SphereBox[{{2., 2., 1.75}}, 1.54]}, 
   {RGBColor[0.800498, 0.201504, 0.192061], Opacity[1.], 
    SphereBox[{{1., 1., 4.083333333333334}, {3., 1., 4.083333333333334}, {2., 
     2.732050807568877, 4.083333333333334}}, 0.66]}, 
   {RGBColor[0.90443, 0.97015, 0.13504], Opacity[1.], 
    SphereBox[{{2., 2., 5.6000000000000005`}}, 1.05]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1349900499]
}, Open  ]],

Cell["Suppose we wish to embed that cell into a pattern as below\[Ellipsis]", \
"ExampleText",
 CellID->1939603606],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"3", ",", "3", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "1", ",", "2", ",", "1", ",", "2", ",", "1", ",", "2", ",", "1", ",", 
       "2", ",", "1"}], "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"DomainPlot", "@", "domain"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->278970363],

Cell[BoxData[
 GraphicsBox[
  {Opacity[1.], 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{0., 0.}, {1., 0.}, {1., 1.}, {0., 1.}}],
     Parallelepiped[{0., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{0., 1.}, {1., 1.}, {1., 2.}, {0., 2.}}],
     Parallelepiped[{0., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{0., 2.}, {1., 2.}, {1., 3.}, {0., 3.}}],
     Parallelepiped[{0., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{1., 0.}, {2., 0.}, {2., 1.}, {1., 1.}}],
     Parallelepiped[{1., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{1., 1.}, {2., 1.}, {2., 2.}, {1., 2.}}],
     Parallelepiped[{1., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{1., 2.}, {2., 2.}, {2., 3.}, {1., 3.}}],
     Parallelepiped[{1., 2.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{2., 0.}, {3., 0.}, {3., 1.}, {2., 1.}}],
     Parallelepiped[{2., 0.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[PolygonBox[{{2., 1.}, {3., 1.}, {3., 2.}, {2., 2.}}],
     Parallelepiped[{2., 1.}, {{1., 0.}, {0., 1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[PolygonBox[{{2., 2.}, {3., 2.}, {3., 3.}, {2., 3.}}],
     Parallelepiped[{2., 2.}, {{1., 0.}, {0., 1.}}]]}},
  Frame->False]], "Output",
 CellLabel->"Out[2]=",
 CellID->1026778780]
}, Open  ]],

Cell[TextData[{
 "\[Ellipsis] and at the same time rotate one domain 180\[Degree] about the \
",
 Cell[BoxData[
  FormBox["a", TraditionalForm]], "InlineMath"],
 "-axis so that half of the cells are upside down. To accomplish this, we can \
use the available rotation options:"
}], "ExampleText",
 CellID->540536477],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"domain", ",", "\"\<DemoSupercell\>\"", ",", 
    RowBox[{"<|", 
     RowBox[{
      RowBox[{"1", "\[Rule]", "\"\<Demo\>\""}], ",", 
      RowBox[{"2", "\[Rule]", "\"\<Demo\>\""}]}], "|>"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<RotationMap\>\"", "\[Rule]", 
     RowBox[{"<|", 
      RowBox[{"2", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"180", "\[Degree]"}], ",", "0", ",", "0"}], "}"}]}], 
      "|>"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"\"\<RotationAnchorReference\>\"", "\[Rule]", "\"\<Unit\>\""}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{"\"\<RotationAnchorShift\>\"", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2", ",", "7"}], "}"}]}]}], "\[IndentingNewLine]", 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<DemoSupercell\>\"", "]"}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->1702272783],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {4., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 4., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 7.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 0.}, {4., 4., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 0.}, {4., 4., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 0.}, {4., 0., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 0.}, {0., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 4., 0.}, {4., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 7.}, {4., 0., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 7.}, {0., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 4., 7.}, {4., 4., 7.}}]}, 
   {GrayLevel[0], Line3DBox[{{4., 0., 7.}, {4., 4., 7.}}]}, 
   {RGBColor[0.412698, 0.932689, 0.166398], Opacity[1.], 
    SphereBox[CompressedData["
1:eJyVkbsNgDAMBQ0swAhGonDBCBTMwAhI1KzKSFDggkueEJaiyJfnb4btWPfW
zMb7dPZl/fLvPX0V5w+foCNnPurJmZ/x5Gkh9CVvqnVd8PTPmfo6V3tzwdVc
LjjnYj/k6l+Yn5zGPbJPzhWCq7ohOPNTX/7j+2Y/as+cLwp+AUtvIA0=
     "], 1.02]}, 
   {RGBColor[0.310325, 0.752163, 0.769323], Opacity[1.], 
    SphereBox[{{2., 2., 1.75}, {2., 6., 12.25}, {2., 10., 1.75}, {6., 
     2.000000000000001, 12.25}, {6., 6., 1.75}, {6., 10., 12.25}, {10., 2., 
     1.75}, {10., 6., 12.25}, {10., 10., 1.75}}, 1.54]}, 
   {RGBColor[0.800498, 0.201504, 0.192061], Opacity[1.], 
    SphereBox[CompressedData["
1:eJxTTMoPSmViYGCQBmJmBhj4YA+jw0JBQMABwudwwC7O4BCqplNie5vVAVUc
Zo6MA1j4qjKaOejiDA7X3rx0TRQSRROHmaPkgN096OIMDlM5uWPPl6miiYs4
MEH1oZovg0NcwiFq83LxVs8v9qjiInAa1XwZHOISDlrCYrvmvZXCcA+EVsNw
D3ZxCYfsb18WGXQqoYkrwcMJ1Xw1HOIqOOILZg56vKjhEFfBEV9KcBq7e9DF
VTDiCwDmCHkE
     "], 0.66]}, 
   {RGBColor[0.90443, 0.97015, 0.13504], Opacity[1.], 
    SphereBox[{{2., 2., 5.6000000000000005`}, {2., 6., 8.399999999999999}, {
     2., 10., 5.6000000000000005`}, {6., 2.000000000000001, 
     8.399999999999999}, {6., 6., 5.6000000000000005`}, {6., 10., 
     8.399999999999999}, {10., 2., 5.6000000000000005`}, {10., 6., 
     8.399999999999999}, {10., 10., 5.6000000000000005`}}, 1.05]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1900357970]
}, Open  ]],

Cell[TextData[{
 "With ",
 Cell[BoxData["\"\<RotationMap\>\""], "InlineFormula"],
 " we specify that we wish to rotate the second domain (those coloured green) \
by 180\[Degree] about the ",
 Cell[BoxData[
  FormBox["x", TraditionalForm]], "InlineMath"],
 "-axis (rotation axes may be set with ",
 Cell[BoxData["\"\<RotationAxes\>\""], "InlineFormula"],
 "). The second option, ",
 Cell[BoxData["\"\<RotationAnchorReference\>\""], "InlineFormula"],
 ", signifies that the rotation anchors will be moved to the origin of each \
individual cell before rotation. Finally, ",
 Cell[BoxData["\"\<RotationAnchorShift\>\""], "InlineFormula"],
 " moves these anchors to the middle of the top plane of each cell (all \
numbers are in \[ARing]ngstr\[ODoubleDot]ms)."
}], "ExampleText",
 CellID->1298229345]
}, Open  ]]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 "Possible Issues",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->1305812373],

Cell["\<\
In this example, we will be building and using a couple of simple demo \
crystal structures:\
\>", "ExampleText",
 CellID->268543758],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "/@", 
   RowBox[{"{", 
    RowBox[{"\"\<Au\>\"", ",", "\"\<Ag\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"blockAu", ",", "blockAg"}], "}"}], "=", 
   RowBox[{"ExpandCrystal", "/@", 
    RowBox[{"{", 
     RowBox[{"\"\<Au\>\"", ",", "\"\<Ag\>\""}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "/@", 
  RowBox[{"{", 
   RowBox[{"blockAu", ",", "blockAg"}], "}"}]}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->31455363],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[1., 0.819608, 0.137255], Opacity[1.], 
      SphereBox[{{0., 0., 0.}, {0., 0., 5.}, {0., 5., 0.}, {0., 5., 5.}, {5., 
       0., 0.}, {5., 0., 5.}, {5., 5., 0.}, {5., 5., 5.}}, 1.36]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}], ",", 
   Graphics3DBox[{
     {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
     {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
     {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
     {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
     {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
      SphereBox[{{0., 0., 0.}, {0., 0., 5.}, {0., 5., 0.}, {0., 5., 5.}, {5., 
       0., 0.}, {5., 0., 5.}, {5., 5., 0.}, {5., 5., 5.}}, 1.45]}},
    ControllerMethod -> Automatic,
    AlignmentPoint->Center,
    AspectRatio->Automatic,
    Axes->False,
    AxesEdge->Automatic,
    AxesLabel->None,
    AxesOrigin->Automatic,
    AxesStyle->{},
    Background->None,
    BaseStyle->{},
    BaselinePosition->Automatic,
    BoxRatios->Automatic,
    BoxStyle->{},
    Boxed->False,
    ClipPlanes->None,
    ClipPlanesStyle->Automatic,
    ColorOutput->Automatic,
    ContentSelectable->Automatic,
    ControllerLinking->False,
    ControllerPath->Automatic,
    CoordinatesToolOptions:>Automatic,
    DisplayFunction->Identity,
    Epilog->{},
    FaceGrids->None,
    FaceGridsStyle->{},
    FormatType->TraditionalForm,
    ImageMargins->0.,
    ImagePadding->All,
    ImageSize->Automatic,
    ImageSizeRaw->Automatic,
    LabelStyle->{},
    Lighting->"Neutral",
    Method->Automatic,
    PlotLabel->None,
    PlotRange->All,
    PlotRangePadding->Automatic,
    PlotRegion->Automatic,
    PreserveImageOptions->Automatic,
    Prolog->{},
    RotationAction->"Fit",
    SphericalRegion->True,
    Ticks->Automatic,
    TicksStyle->{},
    TouchscreenAutoZoom->False,
    ViewAngle->Automatic,
    ViewCenter->Automatic,
    ViewMatrix->Automatic,
    ViewPoint->{1.3, -2.4, 2.},
    ViewProjection->Automatic,
    ViewRange->All,
    ViewVector->Automatic,
    ViewVertical->{0, 0, 1}]}], "}"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1747610830]
}, Open  ]],

Cell[TextData[{
 "Suppose we would like to arrange these two cells into a ",
 Cell[BoxData[
  FormBox[
   RowBox[{"3", "\[Times]", "3"}], TraditionalForm]], "InlineMath"],
 " supercell as shown below:"
}], "ExampleText",
 CellID->331965144],

Cell[BoxData[
 RowBox[{
  RowBox[{"MakeChequeredBlock", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"X_", ",", "Y_", ",", "Z_"}], "}"}], ",", 
    RowBox[{"regions_Integer", ":", "2"}]}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"X", ",", "Y", ",", "Z"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"PadRight", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", 
      RowBox[{"X", "*", "Y", "*", "Z"}], ",", 
      RowBox[{"Range", "@", "regions"}]}], "]"}]}], "}"}]}]], "Input",
 Background->RGBColor[0.94, 0.91, 0.88],
 CellLabel->"In[2]:=",
 CellID->372795548],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", 
   RowBox[{"MakeChequeredBlock", "[", 
    RowBox[{"{", 
     RowBox[{"3", ",", "3", ",", "3"}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"DomainPlot", "@", "domain"}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->1035364231],

Cell[BoxData[
 Graphics3DBox[
  {Opacity[1.], 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 0.}, {1., 0., 0.}, {1., 1., 0.}, {0., 1., 0.}, {
      0., 0., 1.}, {1., 0., 1.}, {1., 1., 1.}, {0., 1., 1.}}],
     Parallelepiped[{0., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 1.}, {1., 0., 1.}, {1., 1., 1.}, {0., 1., 1.}, {
      0., 0., 2.}, {1., 0., 2.}, {1., 1., 2.}, {0., 1., 2.}}],
     Parallelepiped[{0., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 2.}, {1., 0., 2.}, {1., 1., 2.}, {0., 1., 2.}, {
      0., 0., 3.}, {1., 0., 3.}, {1., 1., 3.}, {0., 1., 3.}}],
     Parallelepiped[{0., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 0.}, {1., 1., 0.}, {1., 2., 0.}, {0., 2., 0.}, {
      0., 1., 1.}, {1., 1., 1.}, {1., 2., 1.}, {0., 2., 1.}}],
     Parallelepiped[{0., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 1.}, {1., 1., 1.}, {1., 2., 1.}, {0., 2., 1.}, {
      0., 1., 2.}, {1., 1., 2.}, {1., 2., 2.}, {0., 2., 2.}}],
     Parallelepiped[{0., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 2.}, {1., 1., 2.}, {1., 2., 2.}, {0., 2., 2.}, {
      0., 1., 3.}, {1., 1., 3.}, {1., 2., 3.}, {0., 2., 3.}}],
     Parallelepiped[{0., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 0.}, {1., 2., 0.}, {1., 3., 0.}, {0., 3., 0.}, {
      0., 2., 1.}, {1., 2., 1.}, {1., 3., 1.}, {0., 3., 1.}}],
     Parallelepiped[{0., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 1.}, {1., 2., 1.}, {1., 3., 1.}, {0., 3., 1.}, {
      0., 2., 2.}, {1., 2., 2.}, {1., 3., 2.}, {0., 3., 2.}}],
     Parallelepiped[{0., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 2.}, {1., 2., 2.}, {1., 3., 2.}, {0., 3., 2.}, {
      0., 2., 3.}, {1., 2., 3.}, {1., 3., 3.}, {0., 3., 3.}}],
     Parallelepiped[{0., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 0.}, {2., 0., 0.}, {2., 1., 0.}, {1., 1., 0.}, {
      1., 0., 1.}, {2., 0., 1.}, {2., 1., 1.}, {1., 1., 1.}}],
     Parallelepiped[{1., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 1.}, {2., 0., 1.}, {2., 1., 1.}, {1., 1., 1.}, {
      1., 0., 2.}, {2., 0., 2.}, {2., 1., 2.}, {1., 1., 2.}}],
     Parallelepiped[{1., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 2.}, {2., 0., 2.}, {2., 1., 2.}, {1., 1., 2.}, {
      1., 0., 3.}, {2., 0., 3.}, {2., 1., 3.}, {1., 1., 3.}}],
     Parallelepiped[{1., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 0.}, {2., 1., 0.}, {2., 2., 0.}, {1., 2., 0.}, {
      1., 1., 1.}, {2., 1., 1.}, {2., 2., 1.}, {1., 2., 1.}}],
     Parallelepiped[{1., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 1.}, {2., 1., 1.}, {2., 2., 1.}, {1., 2., 1.}, {
      1., 1., 2.}, {2., 1., 2.}, {2., 2., 2.}, {1., 2., 2.}}],
     Parallelepiped[{1., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 2.}, {2., 1., 2.}, {2., 2., 2.}, {1., 2., 2.}, {
      1., 1., 3.}, {2., 1., 3.}, {2., 2., 3.}, {1., 2., 3.}}],
     Parallelepiped[{1., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 0.}, {2., 2., 0.}, {2., 3., 0.}, {1., 3., 0.}, {
      1., 2., 1.}, {2., 2., 1.}, {2., 3., 1.}, {1., 3., 1.}}],
     Parallelepiped[{1., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 1.}, {2., 2., 1.}, {2., 3., 1.}, {1., 3., 1.}, {
      1., 2., 2.}, {2., 2., 2.}, {2., 3., 2.}, {1., 3., 2.}}],
     Parallelepiped[{1., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 2.}, {2., 2., 2.}, {2., 3., 2.}, {1., 3., 2.}, {
      1., 2., 3.}, {2., 2., 3.}, {2., 3., 3.}, {1., 3., 3.}}],
     Parallelepiped[{1., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 0.}, {3., 0., 0.}, {3., 1., 0.}, {2., 1., 0.}, {
      2., 0., 1.}, {3., 0., 1.}, {3., 1., 1.}, {2., 1., 1.}}],
     Parallelepiped[{2., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 1.}, {3., 0., 1.}, {3., 1., 1.}, {2., 1., 1.}, {
      2., 0., 2.}, {3., 0., 2.}, {3., 1., 2.}, {2., 1., 2.}}],
     Parallelepiped[{2., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 2.}, {3., 0., 2.}, {3., 1., 2.}, {2., 1., 2.}, {
      2., 0., 3.}, {3., 0., 3.}, {3., 1., 3.}, {2., 1., 3.}}],
     Parallelepiped[{2., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 0.}, {3., 1., 0.}, {3., 2., 0.}, {2., 2., 0.}, {
      2., 1., 1.}, {3., 1., 1.}, {3., 2., 1.}, {2., 2., 1.}}],
     Parallelepiped[{2., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 1.}, {3., 1., 1.}, {3., 2., 1.}, {2., 2., 1.}, {
      2., 1., 2.}, {3., 1., 2.}, {3., 2., 2.}, {2., 2., 2.}}],
     Parallelepiped[{2., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 2.}, {3., 1., 2.}, {3., 2., 2.}, {2., 2., 2.}, {
      2., 1., 3.}, {3., 1., 3.}, {3., 2., 3.}, {2., 2., 3.}}],
     Parallelepiped[{2., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 0.}, {3., 2., 0.}, {3., 3., 0.}, {2., 3., 0.}, {
      2., 2., 1.}, {3., 2., 1.}, {3., 3., 1.}, {2., 3., 1.}}],
     Parallelepiped[{2., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 1.}, {3., 2., 1.}, {3., 3., 1.}, {2., 3., 1.}, {
      2., 2., 2.}, {3., 2., 2.}, {3., 3., 2.}, {2., 3., 2.}}],
     Parallelepiped[{2., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 2.}, {3., 2., 2.}, {3., 3., 2.}, {2., 3., 2.}, {
      2., 2., 3.}, {3., 2., 3.}, {3., 3., 3.}, {2., 3., 3.}}],
     Parallelepiped[{2., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}},
  Boxed->False]], "Output",
 CellLabel->"Out[3]=",
 CellID->2084536829]
}, Open  ]],

Cell["\<\
One might na\[IDoubleDot]vely combine the two blocks with this domain \
directly, but that results in an overlapping structure as seen:\
\>", "ExampleText",
 CellID->1429225744],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"domain", ",", "\"\<Demo\>\"", ",", 
    RowBox[{"<|", 
     RowBox[{
      RowBox[{"1", "\[Rule]", "blockAu"}], ",", 
      RowBox[{"2", "\[Rule]", "blockAg"}]}], "|>"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->1842986012],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
   {RGBColor[1., 0.819608, 0.137255], Opacity[1.], SphereBox[CompressedData["
1:eJydlMENAjEMBCNo4RpAujc1XA2UgMQb+n/Bx59Bc+vE0ukUx1lvnLVvz/fj
dRljfH7fdczadpyv6ee/i2fnuri7+O+Cx/jyVzzz7OJnPPHpNz52b/I0HuW3
vPZnvJ0nPvPSUr1oqY5lq/VN72r3Il6tGV9+5rF3IT55Mt7wy0xHq3pIdSd+
0k16N+ZJ/IyXrcl3Vt+pjkmPs3qwfdMF9+1vfFI97D5dHobb5Wf4tK4+GJ/m
SNnsfOnONbvXqh7IM82zVPc0n1Ifzuoh6azbN93+KOv2J+NTncq6853xaY6k
OqY+Yp4U1z33v/8FlANphw==
     "], 1.36]}, 
   {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
    SphereBox[CompressedData["
1:eJydlMsJw0AMRBenhTQQ8Nk1pAaXEAj4lv5vyUWXFw9PXoExK40+K4328frs
72WMcfy+20hyf57rV+gLR3ydV7FTT7z9Uz0Uy0exOlLcbn3Wl+S3QV844utc
+FQX9cQzPvWpntRn1sl81Ke86T60p/un+JTuvM1uPKO/9dHqSP6zfEj8SvNM
c+vOx/p4lQ+G6/p17SXd/hJve1gyu5/GA4tne7QFu/2JT/4pfkmaxywfbE6M
b++O9ZvxbE7E256VdN9H4m0PrY6rfEh9S3w03hi/bN9T/m4e60e69//9vs3r
ZFc=
     "], 1.45]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[4]=",
 CellID->652744583]
}, Open  ]],

Cell["\<\
In order to avoid assembly of the blocks \[OpenCurlyDoubleQuote]edge-to-edge\
\[CloseCurlyDoubleQuote], the domain representation can be padded first with \
buffer cells:\
\>", "ExampleText",
 CellID->1042672064],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"paddedDomain", "=", 
   RowBox[{"InputCheck", "[", 
    RowBox[{"\"\<PadDomain\>\"", ",", "domain"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"DomainPlot", "@", "paddedDomain"}]}], "Input",
 CellLabel->"In[5]:=",
 CellID->1906135733],

Cell[BoxData[
 Graphics3DBox[
  {Opacity[1.], 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 0.}, {1., 0., 0.}, {1., 1., 0.}, {0., 1., 0.}, {
      0., 0., 1.}, {1., 0., 1.}, {1., 1., 1.}, {0., 1., 1.}}],
     Parallelepiped[{0., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 1.}, {1., 0., 1.}, {1., 1., 1.}, {0., 1., 1.}, {
      0., 0., 2.}, {1., 0., 2.}, {1., 1., 2.}, {0., 1., 2.}}],
     Parallelepiped[{0., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 2.}, {1., 0., 2.}, {1., 1., 2.}, {0., 1., 2.}, {
      0., 0., 3.}, {1., 0., 3.}, {1., 1., 3.}, {0., 1., 3.}}],
     Parallelepiped[{0., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 3.}, {1., 0., 3.}, {1., 1., 3.}, {0., 1., 3.}, {
      0., 0., 4.}, {1., 0., 4.}, {1., 1., 4.}, {0., 1., 4.}}],
     Parallelepiped[{0., 0., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 0., 4.}, {1., 0., 4.}, {1., 1., 4.}, {0., 1., 4.}, {
      0., 0., 5.}, {1., 0., 5.}, {1., 1., 5.}, {0., 1., 5.}}],
     Parallelepiped[{0., 0., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 0.}, {1., 1., 0.}, {1., 2., 0.}, {0., 2., 0.}, {
      0., 1., 1.}, {1., 1., 1.}, {1., 2., 1.}, {0., 2., 1.}}],
     Parallelepiped[{0., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 1.}, {1., 1., 1.}, {1., 2., 1.}, {0., 2., 1.}, {
      0., 1., 2.}, {1., 1., 2.}, {1., 2., 2.}, {0., 2., 2.}}],
     Parallelepiped[{0., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 2.}, {1., 1., 2.}, {1., 2., 2.}, {0., 2., 2.}, {
      0., 1., 3.}, {1., 1., 3.}, {1., 2., 3.}, {0., 2., 3.}}],
     Parallelepiped[{0., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 3.}, {1., 1., 3.}, {1., 2., 3.}, {0., 2., 3.}, {
      0., 1., 4.}, {1., 1., 4.}, {1., 2., 4.}, {0., 2., 4.}}],
     Parallelepiped[{0., 1., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 1., 4.}, {1., 1., 4.}, {1., 2., 4.}, {0., 2., 4.}, {
      0., 1., 5.}, {1., 1., 5.}, {1., 2., 5.}, {0., 2., 5.}}],
     Parallelepiped[{0., 1., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 0.}, {1., 2., 0.}, {1., 3., 0.}, {0., 3., 0.}, {
      0., 2., 1.}, {1., 2., 1.}, {1., 3., 1.}, {0., 3., 1.}}],
     Parallelepiped[{0., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 1.}, {1., 2., 1.}, {1., 3., 1.}, {0., 3., 1.}, {
      0., 2., 2.}, {1., 2., 2.}, {1., 3., 2.}, {0., 3., 2.}}],
     Parallelepiped[{0., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 2.}, {1., 2., 2.}, {1., 3., 2.}, {0., 3., 2.}, {
      0., 2., 3.}, {1., 2., 3.}, {1., 3., 3.}, {0., 3., 3.}}],
     Parallelepiped[{0., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 3.}, {1., 2., 3.}, {1., 3., 3.}, {0., 3., 3.}, {
      0., 2., 4.}, {1., 2., 4.}, {1., 3., 4.}, {0., 3., 4.}}],
     Parallelepiped[{0., 2., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 2., 4.}, {1., 2., 4.}, {1., 3., 4.}, {0., 3., 4.}, {
      0., 2., 5.}, {1., 2., 5.}, {1., 3., 5.}, {0., 3., 5.}}],
     Parallelepiped[{0., 2., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 3., 0.}, {1., 3., 0.}, {1., 4., 0.}, {0., 4., 0.}, {
      0., 3., 1.}, {1., 3., 1.}, {1., 4., 1.}, {0., 4., 1.}}],
     Parallelepiped[{0., 3., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 3., 1.}, {1., 3., 1.}, {1., 4., 1.}, {0., 4., 1.}, {
      0., 3., 2.}, {1., 3., 2.}, {1., 4., 2.}, {0., 4., 2.}}],
     Parallelepiped[{0., 3., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 3., 2.}, {1., 3., 2.}, {1., 4., 2.}, {0., 4., 2.}, {
      0., 3., 3.}, {1., 3., 3.}, {1., 4., 3.}, {0., 4., 3.}}],
     Parallelepiped[{0., 3., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 3., 3.}, {1., 3., 3.}, {1., 4., 3.}, {0., 4., 3.}, {
      0., 3., 4.}, {1., 3., 4.}, {1., 4., 4.}, {0., 4., 4.}}],
     Parallelepiped[{0., 3., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 3., 4.}, {1., 3., 4.}, {1., 4., 4.}, {0., 4., 4.}, {
      0., 3., 5.}, {1., 3., 5.}, {1., 4., 5.}, {0., 4., 5.}}],
     Parallelepiped[{0., 3., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 4., 0.}, {1., 4., 0.}, {1., 5., 0.}, {0., 5., 0.}, {
      0., 4., 1.}, {1., 4., 1.}, {1., 5., 1.}, {0., 5., 1.}}],
     Parallelepiped[{0., 4., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 4., 1.}, {1., 4., 1.}, {1., 5., 1.}, {0., 5., 1.}, {
      0., 4., 2.}, {1., 4., 2.}, {1., 5., 2.}, {0., 5., 2.}}],
     Parallelepiped[{0., 4., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 4., 2.}, {1., 4., 2.}, {1., 5., 2.}, {0., 5., 2.}, {
      0., 4., 3.}, {1., 4., 3.}, {1., 5., 3.}, {0., 5., 3.}}],
     Parallelepiped[{0., 4., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{0., 4., 3.}, {1., 4., 3.}, {1., 5., 3.}, {0., 5., 3.}, {
      0., 4., 4.}, {1., 4., 4.}, {1., 5., 4.}, {0., 5., 4.}}],
     Parallelepiped[{0., 4., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{0., 4., 4.}, {1., 4., 4.}, {1., 5., 4.}, {0., 5., 4.}, {
      0., 4., 5.}, {1., 4., 5.}, {1., 5., 5.}, {0., 5., 5.}}],
     Parallelepiped[{0., 4., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 0.}, {2., 0., 0.}, {2., 1., 0.}, {1., 1., 0.}, {
      1., 0., 1.}, {2., 0., 1.}, {2., 1., 1.}, {1., 1., 1.}}],
     Parallelepiped[{1., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 1.}, {2., 0., 1.}, {2., 1., 1.}, {1., 1., 1.}, {
      1., 0., 2.}, {2., 0., 2.}, {2., 1., 2.}, {1., 1., 2.}}],
     Parallelepiped[{1., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 2.}, {2., 0., 2.}, {2., 1., 2.}, {1., 1., 2.}, {
      1., 0., 3.}, {2., 0., 3.}, {2., 1., 3.}, {1., 1., 3.}}],
     Parallelepiped[{1., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 3.}, {2., 0., 3.}, {2., 1., 3.}, {1., 1., 3.}, {
      1., 0., 4.}, {2., 0., 4.}, {2., 1., 4.}, {1., 1., 4.}}],
     Parallelepiped[{1., 0., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 0., 4.}, {2., 0., 4.}, {2., 1., 4.}, {1., 1., 4.}, {
      1., 0., 5.}, {2., 0., 5.}, {2., 1., 5.}, {1., 1., 5.}}],
     Parallelepiped[{1., 0., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 0.}, {2., 1., 0.}, {2., 2., 0.}, {1., 2., 0.}, {
      1., 1., 1.}, {2., 1., 1.}, {2., 2., 1.}, {1., 2., 1.}}],
     Parallelepiped[{1., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 1.}, {2., 1., 1.}, {2., 2., 1.}, {1., 2., 1.}, {
      1., 1., 2.}, {2., 1., 2.}, {2., 2., 2.}, {1., 2., 2.}}],
     Parallelepiped[{1., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 2.}, {2., 1., 2.}, {2., 2., 2.}, {1., 2., 2.}, {
      1., 1., 3.}, {2., 1., 3.}, {2., 2., 3.}, {1., 2., 3.}}],
     Parallelepiped[{1., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 3.}, {2., 1., 3.}, {2., 2., 3.}, {1., 2., 3.}, {
      1., 1., 4.}, {2., 1., 4.}, {2., 2., 4.}, {1., 2., 4.}}],
     Parallelepiped[{1., 1., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 1., 4.}, {2., 1., 4.}, {2., 2., 4.}, {1., 2., 4.}, {
      1., 1., 5.}, {2., 1., 5.}, {2., 2., 5.}, {1., 2., 5.}}],
     Parallelepiped[{1., 1., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 0.}, {2., 2., 0.}, {2., 3., 0.}, {1., 3., 0.}, {
      1., 2., 1.}, {2., 2., 1.}, {2., 3., 1.}, {1., 3., 1.}}],
     Parallelepiped[{1., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 1.}, {2., 2., 1.}, {2., 3., 1.}, {1., 3., 1.}, {
      1., 2., 2.}, {2., 2., 2.}, {2., 3., 2.}, {1., 3., 2.}}],
     Parallelepiped[{1., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 2.}, {2., 2., 2.}, {2., 3., 2.}, {1., 3., 2.}, {
      1., 2., 3.}, {2., 2., 3.}, {2., 3., 3.}, {1., 3., 3.}}],
     Parallelepiped[{1., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 3.}, {2., 2., 3.}, {2., 3., 3.}, {1., 3., 3.}, {
      1., 2., 4.}, {2., 2., 4.}, {2., 3., 4.}, {1., 3., 4.}}],
     Parallelepiped[{1., 2., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 2., 4.}, {2., 2., 4.}, {2., 3., 4.}, {1., 3., 4.}, {
      1., 2., 5.}, {2., 2., 5.}, {2., 3., 5.}, {1., 3., 5.}}],
     Parallelepiped[{1., 2., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 3., 0.}, {2., 3., 0.}, {2., 4., 0.}, {1., 4., 0.}, {
      1., 3., 1.}, {2., 3., 1.}, {2., 4., 1.}, {1., 4., 1.}}],
     Parallelepiped[{1., 3., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 3., 1.}, {2., 3., 1.}, {2., 4., 1.}, {1., 4., 1.}, {
      1., 3., 2.}, {2., 3., 2.}, {2., 4., 2.}, {1., 4., 2.}}],
     Parallelepiped[{1., 3., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 3., 2.}, {2., 3., 2.}, {2., 4., 2.}, {1., 4., 2.}, {
      1., 3., 3.}, {2., 3., 3.}, {2., 4., 3.}, {1., 4., 3.}}],
     Parallelepiped[{1., 3., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 3., 3.}, {2., 3., 3.}, {2., 4., 3.}, {1., 4., 3.}, {
      1., 3., 4.}, {2., 3., 4.}, {2., 4., 4.}, {1., 4., 4.}}],
     Parallelepiped[{1., 3., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 3., 4.}, {2., 3., 4.}, {2., 4., 4.}, {1., 4., 4.}, {
      1., 3., 5.}, {2., 3., 5.}, {2., 4., 5.}, {1., 4., 5.}}],
     Parallelepiped[{1., 3., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 4., 0.}, {2., 4., 0.}, {2., 5., 0.}, {1., 5., 0.}, {
      1., 4., 1.}, {2., 4., 1.}, {2., 5., 1.}, {1., 5., 1.}}],
     Parallelepiped[{1., 4., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 4., 1.}, {2., 4., 1.}, {2., 5., 1.}, {1., 5., 1.}, {
      1., 4., 2.}, {2., 4., 2.}, {2., 5., 2.}, {1., 5., 2.}}],
     Parallelepiped[{1., 4., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 4., 2.}, {2., 4., 2.}, {2., 5., 2.}, {1., 5., 2.}, {
      1., 4., 3.}, {2., 4., 3.}, {2., 5., 3.}, {1., 5., 3.}}],
     Parallelepiped[{1., 4., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 4., 3.}, {2., 4., 3.}, {2., 5., 3.}, {1., 5., 3.}, {
      1., 4., 4.}, {2., 4., 4.}, {2., 5., 4.}, {1., 5., 4.}}],
     Parallelepiped[{1., 4., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{1., 4., 4.}, {2., 4., 4.}, {2., 5., 4.}, {1., 5., 4.}, {
      1., 4., 5.}, {2., 4., 5.}, {2., 5., 5.}, {1., 5., 5.}}],
     Parallelepiped[{1., 4., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 0.}, {3., 0., 0.}, {3., 1., 0.}, {2., 1., 0.}, {
      2., 0., 1.}, {3., 0., 1.}, {3., 1., 1.}, {2., 1., 1.}}],
     Parallelepiped[{2., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 1.}, {3., 0., 1.}, {3., 1., 1.}, {2., 1., 1.}, {
      2., 0., 2.}, {3., 0., 2.}, {3., 1., 2.}, {2., 1., 2.}}],
     Parallelepiped[{2., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 2.}, {3., 0., 2.}, {3., 1., 2.}, {2., 1., 2.}, {
      2., 0., 3.}, {3., 0., 3.}, {3., 1., 3.}, {2., 1., 3.}}],
     Parallelepiped[{2., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 3.}, {3., 0., 3.}, {3., 1., 3.}, {2., 1., 3.}, {
      2., 0., 4.}, {3., 0., 4.}, {3., 1., 4.}, {2., 1., 4.}}],
     Parallelepiped[{2., 0., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 0., 4.}, {3., 0., 4.}, {3., 1., 4.}, {2., 1., 4.}, {
      2., 0., 5.}, {3., 0., 5.}, {3., 1., 5.}, {2., 1., 5.}}],
     Parallelepiped[{2., 0., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 0.}, {3., 1., 0.}, {3., 2., 0.}, {2., 2., 0.}, {
      2., 1., 1.}, {3., 1., 1.}, {3., 2., 1.}, {2., 2., 1.}}],
     Parallelepiped[{2., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 1.}, {3., 1., 1.}, {3., 2., 1.}, {2., 2., 1.}, {
      2., 1., 2.}, {3., 1., 2.}, {3., 2., 2.}, {2., 2., 2.}}],
     Parallelepiped[{2., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 2.}, {3., 1., 2.}, {3., 2., 2.}, {2., 2., 2.}, {
      2., 1., 3.}, {3., 1., 3.}, {3., 2., 3.}, {2., 2., 3.}}],
     Parallelepiped[{2., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 3.}, {3., 1., 3.}, {3., 2., 3.}, {2., 2., 3.}, {
      2., 1., 4.}, {3., 1., 4.}, {3., 2., 4.}, {2., 2., 4.}}],
     Parallelepiped[{2., 1., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 1., 4.}, {3., 1., 4.}, {3., 2., 4.}, {2., 2., 4.}, {
      2., 1., 5.}, {3., 1., 5.}, {3., 2., 5.}, {2., 2., 5.}}],
     Parallelepiped[{2., 1., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 0.}, {3., 2., 0.}, {3., 3., 0.}, {2., 3., 0.}, {
      2., 2., 1.}, {3., 2., 1.}, {3., 3., 1.}, {2., 3., 1.}}],
     Parallelepiped[{2., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 1.}, {3., 2., 1.}, {3., 3., 1.}, {2., 3., 1.}, {
      2., 2., 2.}, {3., 2., 2.}, {3., 3., 2.}, {2., 3., 2.}}],
     Parallelepiped[{2., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 2.}, {3., 2., 2.}, {3., 3., 2.}, {2., 3., 2.}, {
      2., 2., 3.}, {3., 2., 3.}, {3., 3., 3.}, {2., 3., 3.}}],
     Parallelepiped[{2., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 3.}, {3., 2., 3.}, {3., 3., 3.}, {2., 3., 3.}, {
      2., 2., 4.}, {3., 2., 4.}, {3., 3., 4.}, {2., 3., 4.}}],
     Parallelepiped[{2., 2., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 2., 4.}, {3., 2., 4.}, {3., 3., 4.}, {2., 3., 4.}, {
      2., 2., 5.}, {3., 2., 5.}, {3., 3., 5.}, {2., 3., 5.}}],
     Parallelepiped[{2., 2., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 3., 0.}, {3., 3., 0.}, {3., 4., 0.}, {2., 4., 0.}, {
      2., 3., 1.}, {3., 3., 1.}, {3., 4., 1.}, {2., 4., 1.}}],
     Parallelepiped[{2., 3., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 3., 1.}, {3., 3., 1.}, {3., 4., 1.}, {2., 4., 1.}, {
      2., 3., 2.}, {3., 3., 2.}, {3., 4., 2.}, {2., 4., 2.}}],
     Parallelepiped[{2., 3., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 3., 2.}, {3., 3., 2.}, {3., 4., 2.}, {2., 4., 2.}, {
      2., 3., 3.}, {3., 3., 3.}, {3., 4., 3.}, {2., 4., 3.}}],
     Parallelepiped[{2., 3., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 3., 3.}, {3., 3., 3.}, {3., 4., 3.}, {2., 4., 3.}, {
      2., 3., 4.}, {3., 3., 4.}, {3., 4., 4.}, {2., 4., 4.}}],
     Parallelepiped[{2., 3., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 3., 4.}, {3., 3., 4.}, {3., 4., 4.}, {2., 4., 4.}, {
      2., 3., 5.}, {3., 3., 5.}, {3., 4., 5.}, {2., 4., 5.}}],
     Parallelepiped[{2., 3., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 4., 0.}, {3., 4., 0.}, {3., 5., 0.}, {2., 5., 0.}, {
      2., 4., 1.}, {3., 4., 1.}, {3., 5., 1.}, {2., 5., 1.}}],
     Parallelepiped[{2., 4., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 4., 1.}, {3., 4., 1.}, {3., 5., 1.}, {2., 5., 1.}, {
      2., 4., 2.}, {3., 4., 2.}, {3., 5., 2.}, {2., 5., 2.}}],
     Parallelepiped[{2., 4., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 4., 2.}, {3., 4., 2.}, {3., 5., 2.}, {2., 5., 2.}, {
      2., 4., 3.}, {3., 4., 3.}, {3., 5., 3.}, {2., 5., 3.}}],
     Parallelepiped[{2., 4., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{2., 4., 3.}, {3., 4., 3.}, {3., 5., 3.}, {2., 5., 3.}, {
      2., 4., 4.}, {3., 4., 4.}, {3., 5., 4.}, {2., 5., 4.}}],
     Parallelepiped[{2., 4., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{2., 4., 4.}, {3., 4., 4.}, {3., 5., 4.}, {2., 5., 4.}, {
      2., 4., 5.}, {3., 4., 5.}, {3., 5., 5.}, {2., 5., 5.}}],
     Parallelepiped[{2., 4., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 0., 0.}, {4., 0., 0.}, {4., 1., 0.}, {3., 1., 0.}, {
      3., 0., 1.}, {4., 0., 1.}, {4., 1., 1.}, {3., 1., 1.}}],
     Parallelepiped[{3., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 0., 1.}, {4., 0., 1.}, {4., 1., 1.}, {3., 1., 1.}, {
      3., 0., 2.}, {4., 0., 2.}, {4., 1., 2.}, {3., 1., 2.}}],
     Parallelepiped[{3., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 0., 2.}, {4., 0., 2.}, {4., 1., 2.}, {3., 1., 2.}, {
      3., 0., 3.}, {4., 0., 3.}, {4., 1., 3.}, {3., 1., 3.}}],
     Parallelepiped[{3., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 0., 3.}, {4., 0., 3.}, {4., 1., 3.}, {3., 1., 3.}, {
      3., 0., 4.}, {4., 0., 4.}, {4., 1., 4.}, {3., 1., 4.}}],
     Parallelepiped[{3., 0., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 0., 4.}, {4., 0., 4.}, {4., 1., 4.}, {3., 1., 4.}, {
      3., 0., 5.}, {4., 0., 5.}, {4., 1., 5.}, {3., 1., 5.}}],
     Parallelepiped[{3., 0., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 1., 0.}, {4., 1., 0.}, {4., 2., 0.}, {3., 2., 0.}, {
      3., 1., 1.}, {4., 1., 1.}, {4., 2., 1.}, {3., 2., 1.}}],
     Parallelepiped[{3., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 1., 1.}, {4., 1., 1.}, {4., 2., 1.}, {3., 2., 1.}, {
      3., 1., 2.}, {4., 1., 2.}, {4., 2., 2.}, {3., 2., 2.}}],
     Parallelepiped[{3., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 1., 2.}, {4., 1., 2.}, {4., 2., 2.}, {3., 2., 2.}, {
      3., 1., 3.}, {4., 1., 3.}, {4., 2., 3.}, {3., 2., 3.}}],
     Parallelepiped[{3., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 1., 3.}, {4., 1., 3.}, {4., 2., 3.}, {3., 2., 3.}, {
      3., 1., 4.}, {4., 1., 4.}, {4., 2., 4.}, {3., 2., 4.}}],
     Parallelepiped[{3., 1., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 1., 4.}, {4., 1., 4.}, {4., 2., 4.}, {3., 2., 4.}, {
      3., 1., 5.}, {4., 1., 5.}, {4., 2., 5.}, {3., 2., 5.}}],
     Parallelepiped[{3., 1., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 2., 0.}, {4., 2., 0.}, {4., 3., 0.}, {3., 3., 0.}, {
      3., 2., 1.}, {4., 2., 1.}, {4., 3., 1.}, {3., 3., 1.}}],
     Parallelepiped[{3., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 2., 1.}, {4., 2., 1.}, {4., 3., 1.}, {3., 3., 1.}, {
      3., 2., 2.}, {4., 2., 2.}, {4., 3., 2.}, {3., 3., 2.}}],
     Parallelepiped[{3., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 2., 2.}, {4., 2., 2.}, {4., 3., 2.}, {3., 3., 2.}, {
      3., 2., 3.}, {4., 2., 3.}, {4., 3., 3.}, {3., 3., 3.}}],
     Parallelepiped[{3., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 2., 3.}, {4., 2., 3.}, {4., 3., 3.}, {3., 3., 3.}, {
      3., 2., 4.}, {4., 2., 4.}, {4., 3., 4.}, {3., 3., 4.}}],
     Parallelepiped[{3., 2., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 2., 4.}, {4., 2., 4.}, {4., 3., 4.}, {3., 3., 4.}, {
      3., 2., 5.}, {4., 2., 5.}, {4., 3., 5.}, {3., 3., 5.}}],
     Parallelepiped[{3., 2., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 3., 0.}, {4., 3., 0.}, {4., 4., 0.}, {3., 4., 0.}, {
      3., 3., 1.}, {4., 3., 1.}, {4., 4., 1.}, {3., 4., 1.}}],
     Parallelepiped[{3., 3., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 3., 1.}, {4., 3., 1.}, {4., 4., 1.}, {3., 4., 1.}, {
      3., 3., 2.}, {4., 3., 2.}, {4., 4., 2.}, {3., 4., 2.}}],
     Parallelepiped[{3., 3., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 3., 2.}, {4., 3., 2.}, {4., 4., 2.}, {3., 4., 2.}, {
      3., 3., 3.}, {4., 3., 3.}, {4., 4., 3.}, {3., 4., 3.}}],
     Parallelepiped[{3., 3., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 3., 3.}, {4., 3., 3.}, {4., 4., 3.}, {3., 4., 3.}, {
      3., 3., 4.}, {4., 3., 4.}, {4., 4., 4.}, {3., 4., 4.}}],
     Parallelepiped[{3., 3., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 3., 4.}, {4., 3., 4.}, {4., 4., 4.}, {3., 4., 4.}, {
      3., 3., 5.}, {4., 3., 5.}, {4., 4., 5.}, {3., 4., 5.}}],
     Parallelepiped[{3., 3., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 4., 0.}, {4., 4., 0.}, {4., 5., 0.}, {3., 5., 0.}, {
      3., 4., 1.}, {4., 4., 1.}, {4., 5., 1.}, {3., 5., 1.}}],
     Parallelepiped[{3., 4., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 4., 1.}, {4., 4., 1.}, {4., 5., 1.}, {3., 5., 1.}, {
      3., 4., 2.}, {4., 4., 2.}, {4., 5., 2.}, {3., 5., 2.}}],
     Parallelepiped[{3., 4., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 4., 2.}, {4., 4., 2.}, {4., 5., 2.}, {3., 5., 2.}, {
      3., 4., 3.}, {4., 4., 3.}, {4., 5., 3.}, {3., 5., 3.}}],
     Parallelepiped[{3., 4., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 4., 3.}, {4., 4., 3.}, {4., 5., 3.}, {3., 5., 3.}, {
      3., 4., 4.}, {4., 4., 4.}, {4., 5., 4.}, {3., 5., 4.}}],
     Parallelepiped[{3., 4., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{3., 4., 4.}, {4., 4., 4.}, {4., 5., 4.}, {3., 5., 4.}, {
      3., 4., 5.}, {4., 4., 5.}, {4., 5., 5.}, {3., 5., 5.}}],
     Parallelepiped[{3., 4., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 0., 0.}, {5., 0., 0.}, {5., 1., 0.}, {4., 1., 0.}, {
      4., 0., 1.}, {5., 0., 1.}, {5., 1., 1.}, {4., 1., 1.}}],
     Parallelepiped[{4., 0., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 0., 1.}, {5., 0., 1.}, {5., 1., 1.}, {4., 1., 1.}, {
      4., 0., 2.}, {5., 0., 2.}, {5., 1., 2.}, {4., 1., 2.}}],
     Parallelepiped[{4., 0., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 0., 2.}, {5., 0., 2.}, {5., 1., 2.}, {4., 1., 2.}, {
      4., 0., 3.}, {5., 0., 3.}, {5., 1., 3.}, {4., 1., 3.}}],
     Parallelepiped[{4., 0., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 0., 3.}, {5., 0., 3.}, {5., 1., 3.}, {4., 1., 3.}, {
      4., 0., 4.}, {5., 0., 4.}, {5., 1., 4.}, {4., 1., 4.}}],
     Parallelepiped[{4., 0., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 0., 4.}, {5., 0., 4.}, {5., 1., 4.}, {4., 1., 4.}, {
      4., 0., 5.}, {5., 0., 5.}, {5., 1., 5.}, {4., 1., 5.}}],
     Parallelepiped[{4., 0., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 1., 0.}, {5., 1., 0.}, {5., 2., 0.}, {4., 2., 0.}, {
      4., 1., 1.}, {5., 1., 1.}, {5., 2., 1.}, {4., 2., 1.}}],
     Parallelepiped[{4., 1., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 1., 1.}, {5., 1., 1.}, {5., 2., 1.}, {4., 2., 1.}, {
      4., 1., 2.}, {5., 1., 2.}, {5., 2., 2.}, {4., 2., 2.}}],
     Parallelepiped[{4., 1., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 1., 2.}, {5., 1., 2.}, {5., 2., 2.}, {4., 2., 2.}, {
      4., 1., 3.}, {5., 1., 3.}, {5., 2., 3.}, {4., 2., 3.}}],
     Parallelepiped[{4., 1., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 1., 3.}, {5., 1., 3.}, {5., 2., 3.}, {4., 2., 3.}, {
      4., 1., 4.}, {5., 1., 4.}, {5., 2., 4.}, {4., 2., 4.}}],
     Parallelepiped[{4., 1., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 1., 4.}, {5., 1., 4.}, {5., 2., 4.}, {4., 2., 4.}, {
      4., 1., 5.}, {5., 1., 5.}, {5., 2., 5.}, {4., 2., 5.}}],
     Parallelepiped[{4., 1., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 2., 0.}, {5., 2., 0.}, {5., 3., 0.}, {4., 3., 0.}, {
      4., 2., 1.}, {5., 2., 1.}, {5., 3., 1.}, {4., 3., 1.}}],
     Parallelepiped[{4., 2., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 2., 1.}, {5., 2., 1.}, {5., 3., 1.}, {4., 3., 1.}, {
      4., 2., 2.}, {5., 2., 2.}, {5., 3., 2.}, {4., 3., 2.}}],
     Parallelepiped[{4., 2., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 2., 2.}, {5., 2., 2.}, {5., 3., 2.}, {4., 3., 2.}, {
      4., 2., 3.}, {5., 2., 3.}, {5., 3., 3.}, {4., 3., 3.}}],
     Parallelepiped[{4., 2., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 2., 3.}, {5., 2., 3.}, {5., 3., 3.}, {4., 3., 3.}, {
      4., 2., 4.}, {5., 2., 4.}, {5., 3., 4.}, {4., 3., 4.}}],
     Parallelepiped[{4., 2., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 2., 4.}, {5., 2., 4.}, {5., 3., 4.}, {4., 3., 4.}, {
      4., 2., 5.}, {5., 2., 5.}, {5., 3., 5.}, {4., 3., 5.}}],
     Parallelepiped[{4., 2., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 3., 0.}, {5., 3., 0.}, {5., 4., 0.}, {4., 4., 0.}, {
      4., 3., 1.}, {5., 3., 1.}, {5., 4., 1.}, {4., 4., 1.}}],
     Parallelepiped[{4., 3., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 3., 1.}, {5., 3., 1.}, {5., 4., 1.}, {4., 4., 1.}, {
      4., 3., 2.}, {5., 3., 2.}, {5., 4., 2.}, {4., 4., 2.}}],
     Parallelepiped[{4., 3., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 3., 2.}, {5., 3., 2.}, {5., 4., 2.}, {4., 4., 2.}, {
      4., 3., 3.}, {5., 3., 3.}, {5., 4., 3.}, {4., 4., 3.}}],
     Parallelepiped[{4., 3., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 3., 3.}, {5., 3., 3.}, {5., 4., 3.}, {4., 4., 3.}, {
      4., 3., 4.}, {5., 3., 4.}, {5., 4., 4.}, {4., 4., 4.}}],
     Parallelepiped[{4., 3., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 3., 4.}, {5., 3., 4.}, {5., 4., 4.}, {4., 4., 4.}, {
      4., 3., 5.}, {5., 3., 5.}, {5., 4., 5.}, {4., 4., 5.}}],
     Parallelepiped[{4., 3., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 4., 0.}, {5., 4., 0.}, {5., 5., 0.}, {4., 5., 0.}, {
      4., 4., 1.}, {5., 4., 1.}, {5., 5., 1.}, {4., 5., 1.}}],
     Parallelepiped[{4., 4., 0.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 4., 1.}, {5., 4., 1.}, {5., 5., 1.}, {4., 5., 1.}, {
      4., 4., 2.}, {5., 4., 2.}, {5., 5., 2.}, {4., 5., 2.}}],
     Parallelepiped[{4., 4., 1.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[0, 1, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 4., 2.}, {5., 4., 2.}, {5., 5., 2.}, {4., 5., 2.}, {
      4., 4., 3.}, {5., 4., 3.}, {5., 5., 3.}, {4., 5., 3.}}],
     Parallelepiped[{4., 4., 2.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {GrayLevel[0], Opacity[0], 
    InterpretationBox[
     HexahedronBox[{{4., 4., 3.}, {5., 4., 3.}, {5., 5., 3.}, {4., 5., 3.}, {
      4., 4., 4.}, {5., 4., 4.}, {5., 5., 4.}, {4., 5., 4.}}],
     Parallelepiped[{4., 4., 3.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}, 
   {RGBColor[1, 0, 0], 
    InterpretationBox[
     HexahedronBox[{{4., 4., 4.}, {5., 4., 4.}, {5., 5., 4.}, {4., 5., 4.}, {
      4., 4., 5.}, {5., 4., 5.}, {5., 5., 5.}, {4., 5., 5.}}],
     Parallelepiped[{4., 4., 4.}, {{1., 0., 0.}, {0., 1., 0.}, {0., 0., 
      1.}}]]}},
  Boxed->False]], "Output",
 CellLabel->"Out[5]=",
 CellID->2037484399]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"paddedDomain", ",", "\"\<Demo\>\"", ",", 
    RowBox[{"<|", 
     RowBox[{
      RowBox[{"1", "\[Rule]", "blockAu"}], ",", 
      RowBox[{"2", "\[Rule]", "blockAg"}]}], "|>"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CrystalPlot", "[", "\"\<Demo\>\"", "]"}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->13076351],

Cell[BoxData[
 Graphics3DBox[{
   {RGBColor[1, 0, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {5., 0., 0.}}]]}, 
   {RGBColor[0, 1, 0], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 5., 0.}}]]}, 
   {RGBColor[0, 0, 1], Arrow3DBox[Line3DBox[{{0, 0, 0}, {0., 0., 5.}}]]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 5., 0.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 0.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 0.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 5., 0.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {5., 0., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 0., 5.}, {0., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{0., 5., 5.}, {5., 5., 5.}}]}, 
   {GrayLevel[0], Line3DBox[{{5., 0., 5.}, {5., 5., 5.}}]}, 
   {RGBColor[1., 0.819608, 0.137255], Opacity[1.], SphereBox[CompressedData["
1:eJyVlbENAkEMBE/QwjeA9PFHl5B9DZSARAz9R5A4YNCwfkvIumWxfbZvudyf
t8dpjPH6fM7jqC37/zNx+m48+1037hT8KvHIL7z4zDMFJ5/xibOedf/2xDfg
dSa/8PILeKvg5DM+cdZjfU/9oqU+lh3tb3euzFNnxqsz+YUzD+MTJ5/xiZe3
fbG9sPl355z20fYu7Ve6h8WzuiwP6+3eu/uupuCc1yb8DXzWOQUnn/GJsx6r
O+Wze1oddv9Un/Ul6U6Z6QX5SUfKjupLV9dMh0wPTFeoE4xvema6lfQpvQOb
t+2Z7UF6T/Zu0l6mOVg/yE99KuvqO/npf8U88/FMnL4bz373+/0bSUp0uw==

     "], 1.36]}, 
   {RGBColor[0.752941, 0.752941, 0.752941], Opacity[1.], 
    SphereBox[CompressedData["
1:eJyVlDEOwkAQAyP4Qj6AlJoqTbq8gScgIdHx/w4aN0NGvqwUneJzNnv27t2e
n8frMk3T+/dcJ4tlP8bvwOf9mB88/Bn7i+DkMz9x1mN1t/8xWh2Js/WN6rIK
vgFPHvKDh886V8HJZ37irCc86hSceuR78oNTJ+YnTj7zE79jnzHqN/mtDxJn
+2O0L80H08N0pU7Mb36ab82fttIvvhPnOprPvmv7Nrdt3shvc5g4O5+j9wL7
Ie/0axP+hpV1sh+Yn3WSz/xN94TpZT6Zju0+Nn2br22ObZ7Ib3OWGL0fyW/3
svWR+Wl9QZ9H+9H6rvVXO4fls7rsP00PO/f/+b4k/G9/
     "], 1.45]}},
  ControllerMethod -> Automatic,
  AlignmentPoint->Center,
  AspectRatio->Automatic,
  Axes->False,
  AxesEdge->Automatic,
  AxesLabel->None,
  AxesOrigin->Automatic,
  AxesStyle->{},
  Background->None,
  BaseStyle->{},
  BaselinePosition->Automatic,
  BoxRatios->Automatic,
  BoxStyle->{},
  Boxed->False,
  ClipPlanes->None,
  ClipPlanesStyle->Automatic,
  ColorOutput->Automatic,
  ContentSelectable->Automatic,
  ControllerLinking->False,
  ControllerPath->Automatic,
  CoordinatesToolOptions:>Automatic,
  DisplayFunction->Identity,
  Epilog->{},
  FaceGrids->None,
  FaceGridsStyle->{},
  FormatType->TraditionalForm,
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  LabelStyle->{},
  Lighting->"Neutral",
  Method->Automatic,
  PlotLabel->None,
  PlotRange->All,
  PlotRangePadding->Automatic,
  PlotRegion->Automatic,
  PreserveImageOptions->Automatic,
  Prolog->{},
  RotationAction->"Fit",
  SphericalRegion->True,
  Ticks->Automatic,
  TicksStyle->{},
  TouchscreenAutoZoom->False,
  ViewAngle->Automatic,
  ViewCenter->Automatic,
  ViewMatrix->Automatic,
  ViewPoint->{1.3, -2.4, 2.},
  ViewProjection->Automatic,
  ViewRange->All,
  ViewVector->Automatic,
  ViewVertical->{0, 0, 1}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1661612542]
}, Open  ]],

Cell[TextData[{
 "Alternatively, the same result would have been obtained if the setting ",
 Cell[BoxData[
  RowBox[{"\"\<Padding\>\"", "\[Rule]", "True"}]], "InlineFormula"],
 " was used with the original ",
 Cell[BoxData[
  StyleBox["domain", "TI"]], "InlineFormula"],
 "."
}], "ExampleText",
 CellID->1202069233]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " code",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->1903379581],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "SizeError"}], "=", 
   "\"\<Size discrepancy in domain input.\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "DifferentBlockSizes"}], "=", 
   "\"\<The blocks must have the same size.\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "InvalidOutputSize"}], "=", 
   "\"\<Output size must be a list of three positive integers.\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "IncompatibleOutputSize"}], "=", 
   "\"\<Output size must be compatible with block sizes.\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "InvalidSelectionMethod"}], "=", 
   "\"\<\[LeftGuillemet]`1`\[RightGuillemet] is not a valid selection method.\
\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "ExpectedSpecialLabel"}], "=", 
   "\"\<Chemical element or \\\"Void\\\" expected; got \[LeftGuillemet]`1`\
\[RightGuillemet] instead.\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SynthesiseStructure", "::", "InvalidLatticeParameters"}], "=", 
   "\"\<Lattice parameters should be a list of six numbers.\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"SynthesiseStructure", "::", "NothingToBuild"}], "=", 
    "\"\<No units in construction list.\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Options", "@", "SynthesiseStructure"}], "=", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"\"\<Padding\>\"", "\[Rule]", "False"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
      "\"\<RotationAnchorReference\>\"", "\[Rule]", 
       "\"\<DomainCentroid\>\""}], ",", "\[IndentingNewLine]", 
      RowBox[{"\"\<RotationAnchorShift\>\"", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"\"\<RotationAxes\>\"", "\[Rule]", 
       RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"\"\<RotationMap\>\"", "\[Rule]", 
       RowBox[{"<|", "|>"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"\"\<SelectionMethod\>\"", "\[Rule]", "\"\<Sequential\>\""}]}], 
     "\[IndentingNewLine]", "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SyntaxInformation", "@", "SynthesiseStructure"}], "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"\"\<ArgumentsPattern\>\"", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"_", ",", "_.", ",", "_.", ",", 
       RowBox[{"OptionsPattern", "[", "]"}]}], "}"}]}], "\[IndentingNewLine]",
     "}"}]}], ";"}]}], "Input",
 InitializationCell->False,
 CellLabel->"In[1]:=",
 CellID->1064897428],

Cell[BoxData[
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"blocks_List", ",", 
    RowBox[{"{", 
     RowBox[{"A_Integer", ",", "B_Integer", ",", "C_Integer"}], "}"}], ",", 
    "outputName_String", ",", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{"blockSizes", ",", 
      RowBox[{"selectionMethod", "=", 
       RowBox[{"OptionValue", "[", "\"\<SelectionMethod\>\"", "]"}]}], ",", 
      "\[IndentingNewLine]", "domains", ",", "mapping", ",", "options"}], 
     "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{"Checking", " ", "input"}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Check", "[", 
      RowBox[{
       RowBox[{"Scan", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"InputCheck", "[", 
           RowBox[{"\"\<CrystalEntityQ\>\"", ",", "#"}], "]"}], "&"}], ",", 
         RowBox[{"DeleteDuplicates", "@", "blocks"}]}], "]"}], ",", 
       RowBox[{"Abort", "[", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Preparing", " ", "domain", " ", "representation"}], " ", 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"domains", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Which", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"selectionMethod", "===", "\"\<Random\>\""}], ",", 
          RowBox[{"RandomChoice", "[", 
           RowBox[{"blocks", ",", 
            RowBox[{"A", "*", "B", "*", "C"}]}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"selectionMethod", "===", "\"\<Sequential\>\""}], ",", "#", 
          ",", "\[IndentingNewLine]", 
          RowBox[{"selectionMethod", "===", "\"\<Shuffled\>\""}], ",", 
          RowBox[{"RandomSample", "@", "#"}], ",", "\[IndentingNewLine]", 
          "True", ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{
             RowBox[{"SynthesiseStructure", "::", "InvalidSelectionMethod"}], 
             ",", "selectionMethod"}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"Abort", "[", "]"}]}]}], "\[IndentingNewLine]", "]"}], 
        "&"}], "@", 
       RowBox[{"PadRight", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", 
         RowBox[{"A", "*", "B", "*", "C"}], ",", "blocks"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"mapping", "=", 
      RowBox[{"AssociationThread", "[", 
       RowBox[{
        RowBox[{"Range", "@", 
         RowBox[{"Length", "@", "blocks"}]}], "\[Rule]", "blocks"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Relaying", " ", "data", " ", "to", " ", "separate", " ", "procedure"}],
       " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"options", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"#", "\[Rule]", 
           RowBox[{"OptionValue", "[", "#", "]"}]}], ",", "String"}], "]"}], 
        "&"}], "/@", 
       RowBox[{"(", "\[IndentingNewLine]", 
        RowBox[{"First", "/@", 
         RowBox[{"Options", "@", "SynthesiseStructure"}]}], ")"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"SynthesiseStructure", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"A", ",", "B", ",", "C"}], "}"}], ",", "domains"}], "}"}], 
       ",", "outputName", ",", "mapping", ",", 
       RowBox[{"Sequence", "@@", "options"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->False,
 Background->RGBColor[0.94, 0.91, 0.88],
 CellLabel->"In[2]:=",
 CellID->602358298],

Cell[BoxData[
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "inputA_Integer", ",", "inputB_Integer", ",", "inputC_Integer"}], 
       "}"}], ",", "inputDomains_List"}], "}"}], ",", "\[IndentingNewLine]", 
    "outputName_String", ",", "\[IndentingNewLine]", 
    RowBox[{"integerToLabelMap_Association", ":", 
     RowBox[{"<|", "|>"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"domains", "=", "inputDomains"}], ",", 
      RowBox[{"labelMap", "=", "integerToLabelMap"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"A", "=", "inputA"}], ",", 
      RowBox[{"B", "=", "inputB"}], ",", 
      RowBox[{"C", "=", "inputC"}], ",", "\[IndentingNewLine]", "blocks", ",",
       "nonVoidRange", ",", "normalBlocks", ",", "\[IndentingNewLine]", 
      "blockSizes", ",", "\[IndentingNewLine]", "outputSize", ",", 
      "targetPositions", ",", "blockPositions", ",", "blockPositionsMap", ",",
       "blockCopy", ",", "blockCopies", ",", "\[IndentingNewLine]", 
      "coordinatesCrystal", ",", "coordinatesCartesian", ",", 
      "coordinatesCrystalEmbedded", ",", "newCoordinates", ",", 
      "\[IndentingNewLine]", "hostM", ",", "hostMinverse", ",", 
      "targetPositionsCartesian", ",", "M", ",", "T", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"anchorShift", "=", 
       RowBox[{"OptionValue", "[", "\"\<RotationAnchorShift\>\"", "]"}]}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"anchorReference", "=", 
       RowBox[{"OptionValue", "[", "\"\<RotationAnchorReference\>\"", "]"}]}],
       ",", "\[IndentingNewLine]", 
      RowBox[{"rotationAxes", "=", 
       RowBox[{"OptionValue", "[", "\"\<RotationAxes\>\"", "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"rotationMap", "=", 
       RowBox[{"OptionValue", "[", "\"\<RotationMap\>\"", "]"}]}], ",", 
      "\[IndentingNewLine]", "R", ",", "twist"}], "\[IndentingNewLine]", 
     "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{"Checking", " ", "input"}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"TrueQ", "@", 
        RowBox[{"OptionValue", "[", "\"\<Padding\>\"", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"A", ",", "B", ",", "C"}], "}"}], ",", "domains"}], "}"}], 
        "=", 
        RowBox[{"InputCheck", "[", 
         RowBox[{"\"\<PadDomain\>\"", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"A", ",", "B", ",", "C"}], "}"}], ",", "inputDomains"}], 
           "}"}]}], "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"blocks", "=", 
      RowBox[{"domains", "/.", 
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"<|", 
          RowBox[{"0", "\[Rule]", "\"\<Void\>\""}], "|>"}], ",", 
         "integerToLabelMap"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"blocks", "=", 
      RowBox[{"blocks", "/.", 
       RowBox[{"_Integer", "\[Rule]", "\"\<Void\>\""}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Check", "[", 
      RowBox[{
       RowBox[{"Scan", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"InputCheck", "[", 
           RowBox[{"\"\<CrystalEntityQ\>\"", ",", "#"}], "]"}], "&"}], ",", 
         RowBox[{"DeleteDuplicates", "@", "blocks"}]}], "]"}], ",", 
       RowBox[{"Abort", "[", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Handling", " ", "special", " ", "labels", " ", 
       RowBox[{"(", 
        RowBox[{"chemcial", " ", "elements", " ", "or", " ", "void"}], 
        ")"}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"InputCheck", "[", 
      RowBox[{"\"\<HandleSpecialLabels\>\"", ",", "blocks"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"nonVoidRange", "=", 
      RowBox[{"Complement", "[", 
       RowBox[{
        RowBox[{"Range", "[", 
         RowBox[{"A", "*", "B", "*", "C"}], "]"}], ",", 
        RowBox[{"Flatten", "@", 
         RowBox[{"Position", "[", 
          RowBox[{"blocks", ",", "\"\<Void\>\""}], "]"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"normalBlocks", "=", 
      RowBox[{"Part", "[", 
       RowBox[{"blocks", ",", "nonVoidRange"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"normalBlocks", "===", 
        RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "NothingToBuild"}], "]"}], ";", 
        
        RowBox[{"Abort", "[", "]"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Checking", " ", "if", " ", "all", " ", "blocks", " ", "have", " ", 
       "same", " ", "size"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"blockSizes", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"$CrystalData", "[", 
           RowBox[{"#", ",", "\"\<Notes\>\"", ",", "\"\<StructureSize\>\""}], 
           "]"}], "\[IndentingNewLine]", "/.", 
          RowBox[{"_Missing", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{"1", ",", "1", ",", "1"}], "}"}]}]}], ")"}], "&"}], "/@", 
       "blocks"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"SameQ", "@@", "blockSizes"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "DifferentBlockSizes"}], "]"}], 
        ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"blockSizes", "=", 
      RowBox[{
      "blockSizes", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Checking", " ", "if", " ", "output", " ", "size", " ", "is", " ", 
       "valid"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"outputSize", "=", 
      RowBox[{"{", 
       RowBox[{"A", ",", "B", ",", "C"}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"A", "*", "B", "*", "C"}], "\[NotEqual]", 
        RowBox[{"Length", "@", "domains"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "SizeError"}], "]"}], ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Length", "@", "outputSize"}], "\[NotEqual]", "3"}], ")"}], 
        "||", 
        RowBox[{"(", 
         RowBox[{"AnyTrue", "[", 
          RowBox[{"outputSize", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Positive", "[", "#", "]"}], "\[Nand]", 
             RowBox[{"IntegerQ", "[", "#", "]"}]}], "&"}]}], "]"}], ")"}]}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "InvalidOutputSize"}], "]"}], 
        ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Total", "@", 
         RowBox[{"MapThread", "[", 
          RowBox[{"Mod", ",", 
           RowBox[{"{", 
            RowBox[{"outputSize", ",", "blockSizes"}], "}"}]}], "]"}]}], "=!=",
         "0"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "IncompatibleOutputSize"}], 
         "]"}], ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Final", " ", "preparations", " ", "before", " ", "synthesis"}],
       " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"targetPositions", "=", 
      RowBox[{"InputCheck", "[", 
       RowBox[{"\"\<GenerateTargetPositions\>\"", ",", "outputSize"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"blockPositionsMap", "=", 
      RowBox[{"AssociationThread", "[", 
       RowBox[{"targetPositions", "\[Rule]", "blocks"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"AppendTo", "[", 
      RowBox[{"$CrystalData", ",", 
       RowBox[{"outputName", "\[Rule]", 
        RowBox[{"$CrystalData", "@", 
         RowBox[{"First", "@", "normalBlocks"}]}]}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hostM", "=", 
      RowBox[{"GetCrystalMetric", "[", 
       RowBox[{"outputName", ",", 
        RowBox[{"\"\<ToCartesian\>\"", "\[Rule]", "True"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hostMinverse", "=", 
      RowBox[{"Inverse", "@", "hostM"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"targetPositionsCartesian", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"hostM", ".", "#"}], "&"}], "/@", "targetPositions"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"rotationMap", "=!=", 
        RowBox[{"<|", "|>"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"R", "=", 
        RowBox[{"InputCheck", "[", 
         RowBox[{"\"\<RotationTransformation\>\"", ",", 
          RowBox[{"{", 
           RowBox[{"outputSize", ",", "domains"}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{
           "anchorShift", ",", "anchorReference", ",", "rotationMap", ",", 
            "rotationAxes"}], "}"}], ",", "True"}], "]"}]}]}], "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"blockCopies", "=", 
      RowBox[{
       RowBox[{"Reap", "[", 
        RowBox[{"Do", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"M", "=", 
            RowBox[{"GetCrystalMetric", "[", 
             RowBox[{
              RowBox[{
              "blocks", "\[LeftDoubleBracket]", "i", 
               "\[RightDoubleBracket]"}], ",", 
              RowBox[{"\"\<ToCartesian\>\"", "\[Rule]", "True"}]}], "]"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"T", "=", 
            RowBox[{"TranslationTransform", "[", 
             RowBox[{
             "targetPositions", "\[LeftDoubleBracket]", "i", 
              "\[RightDoubleBracket]"}], "]"}]}], ";", "\[IndentingNewLine]", 
           "\[IndentingNewLine]", 
           RowBox[{"blockCopy", "=", 
            RowBox[{"$CrystalData", "[", 
             RowBox[{
             "blocks", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}],
              "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"coordinatesCrystal", "=", 
            RowBox[{"blockCopy", "\[LeftDoubleBracket]", 
             RowBox[{
             "\"\<AtomData\>\"", ",", "All", ",", 
              "\"\<FractionalCoordinates\>\""}], "\[RightDoubleBracket]"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"coordinatesCartesian", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"M", ".", "#"}], "&"}], "/@", "coordinatesCrystal"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"coordinatesCrystalEmbedded", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"hostMinverse", ".", "#"}], "&"}], "/@", 
             "coordinatesCartesian"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"newCoordinates", "=", 
            RowBox[{"T", "/@", "coordinatesCrystalEmbedded"}]}], ";", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"rotationMap", "=!=", 
              RowBox[{"<|", "|>"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"twist", "=", 
               RowBox[{"R", "[", 
                RowBox[{
                 RowBox[{
                 "domains", "\[LeftDoubleBracket]", "i", 
                  "\[RightDoubleBracket]"}], ",", 
                 RowBox[{
                 "targetPositionsCartesian", "\[LeftDoubleBracket]", "i", 
                  "\[RightDoubleBracket]"}]}], "]"}]}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"coordinatesCartesian", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"hostM", ".", "#"}], "&"}], "/@", 
                "newCoordinates"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"coordinatesCartesian", "=", 
               RowBox[{"twist", "@", "coordinatesCartesian"}]}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"newCoordinates", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"hostMinverse", ".", "#"}], "&"}], "/@", 
                "coordinatesCartesian"}]}]}]}], "\[IndentingNewLine]", "]"}], 
           ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"blockCopy", "\[LeftDoubleBracket]", 
             RowBox[{
             "\"\<AtomData\>\"", ",", "All", ",", 
              "\"\<FractionalCoordinates\>\""}], "\[RightDoubleBracket]"}], 
            "=", "newCoordinates"}], ";", "\[IndentingNewLine]", 
           RowBox[{"Sow", "@", "blockCopy"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"i", ",", "nonVoidRange"}], "}"}]}], "\[IndentingNewLine]",
          "]"}], "]"}], "\[LeftDoubleBracket]", 
       RowBox[{"2", ",", "1"}], "\[RightDoubleBracket]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"$CrystalData", "[", 
       RowBox[{"outputName", ",", "\"\<AtomData\>\""}], "]"}], "=", 
      RowBox[{"Flatten", "@", 
       RowBox[{"blockCopies", "\[LeftDoubleBracket]", 
        RowBox[{"All", ",", "\"\<AtomData\>\""}], 
        "\[RightDoubleBracket]"}]}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"KeyExistsQ", "[", 
         RowBox[{
          RowBox[{"$CrystalData", "[", "outputName", "]"}], ",", 
          "\"\<Notes\>\""}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"AppendTo", "[", 
        RowBox[{
         RowBox[{"$CrystalData", "[", "outputName", "]"}], ",", 
         RowBox[{"\"\<Notes\>\"", "\[Rule]", 
          RowBox[{"<|", "|>"}]}]}], "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"$CrystalData", "[", 
       RowBox[{
       "outputName", ",", "\"\<Notes\>\"", ",", "\"\<StructureSize\>\""}], 
       "]"}], "=", "outputSize"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", "outputName"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 InitializationCell->False,
 Background->RGBColor[0.94, 0.91, 0.88],
 CellLabel->"In[3]:=",
 CellID->598002528],

Cell[BoxData[
 RowBox[{
  RowBox[{"SynthesiseStructure", "[", 
   RowBox[{"element_String", ",", "\[IndentingNewLine]", 
    RowBox[{"latticeParameters_List", ":", 
     RowBox[{"{", 
      RowBox[{
      "5.", ",", "5.", ",", "5.", ",", "90.", ",", "90.", ",", "90."}], 
      "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"spaceGroup_", ":", "\"\<P1\>\""}], ",", "\[IndentingNewLine]", 
    RowBox[{"inputLabel_String", ":", "\"\<\>\""}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"label", "=", "inputLabel"}], ",", "sg", ",", "chemicalFormula",
       ",", "atomData"}], "\[IndentingNewLine]", "}"}], ",", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", "Checks", " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"InputCheck", "[", 
         RowBox[{"\"\<FilterSpecialLabels\>\"", ",", 
          RowBox[{"{", "element", "}"}]}], "]"}], "===", 
        RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{
          RowBox[{"SynthesiseStructure", "::", "ExpectedSpecialLabel"}], ",", 
          "element"}], "]"}], ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"MatchQ", "[", 
         RowBox[{"latticeParameters", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"#", ",", "#", ",", "#", ",", "#", ",", "#", ",", "#"}], 
             "}"}], "&"}], "[", 
           RowBox[{"_", "?", "NumericQ"}], "]"}]}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"SynthesiseStructure", "::", "InvalidLatticeParameters"}], 
         "]"}], ";", 
        RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"sg", "=", 
      RowBox[{"InputCheck", "[", 
       RowBox[{"\"\<InterpretSpaceGroup\>\"", ",", "spaceGroup"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Prepare", " ", "crystal", " ", "data"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"element", "===", "\"\<Void\>\""}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"chemicalFormula", "=", "\"\<\>\""}], ";", 
        RowBox[{"atomData", "=", 
         RowBox[{"{", "}"}]}]}], ",", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"chemicalFormula", "=", "element"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"atomData", "=", 
         RowBox[{"{", 
          RowBox[{"<|", 
           RowBox[{
            RowBox[{"\"\<Element\>\"", "\[Rule]", "element"}], ",", 
            RowBox[{"\"\<FractionalCoordinates\>\"", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0"}], "}"}]}]}], "|>"}], 
          "}"}]}]}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Add", " ", "to", " ", "crystal", " ", "database"}], " ", 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"label", "===", "\"\<\>\""}], ",", 
       RowBox[{"label", "=", "element"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"ImportCrystalData", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "label", ",", "chemicalFormula", ",", "0", ",", "spaceGroup", ",", 
         RowBox[{"-", "1"}]}], "}"}], ",", "\[IndentingNewLine]", 
       "latticeParameters", ",", "\[IndentingNewLine]", "atomData", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"\"\<OverwriteWarning\>\"", "\[Rule]", "False"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->False,
 Background->RGBColor[0.94, 0.91, 0.88],
 CellLabel->"In[4]:=",
 CellID->405020136]
}, Closed]],

Cell["", "SectionFooterSpacer"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "See Also"
}], "SeeAlsoSection",
 WholeCellGroupOpener->True,
 CellID->1255426704],

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ExpandCrystal"]], "paclet:MaXrd/ref/ExpandCrystal"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["EmbedStructure"]], "paclet:MaXrd/ref/EmbedStructure"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ConstructDomains"]], "paclet:MaXrd/ref/ConstructDomains"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["DistortStructure"]], "paclet:MaXrd/ref/DistortStructure"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CrystalPlot"]], "paclet:MaXrd/ref/CrystalPlot"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["SimulateDiffractionPattern"]], 
    "paclet:MaXrd/ref/SimulateDiffractionPattern"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["DomainPlot"]], "paclet:MaXrd/ref/DomainPlot"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ResetCrystalData"]], "paclet:MaXrd/ref/ResetCrystalData"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["$CrystalData"]], "paclet:MaXrd/ref/$CrystalData"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"]
}], "SeeAlso",
 CellID->929782353]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "Tutorials"
}], "TutorialsSection",
 WholeCellGroupOpener->True,
 CellID->250839057],

Cell["", "SectionHeaderSpacer"],

Cell[BoxData[
 TemplateBox[{
   Cell[
    TextData["Using the rotation options"]], 
   "paclet:MaXrd/tutorial/UsingRotationMaps"},
  "RefLink",
  BaseStyle->"Tutorials"]], "Tutorials",
 CellID->360339746],

Cell["", "SectionFooterSpacer"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "Related Guides"
}], "MoreAboutSection",
 WholeCellGroupOpener->True,
 CellID->38303248],

Cell["", "SectionHeaderSpacer"],

Cell[BoxData[
 TemplateBox[{
   Cell[
    TextData["MaXrd: Mathematica X-ray diffraction package"]], 
   "paclet:MaXrd/guide/MaXrd"},
  "RefLink",
  BaseStyle->"MoreAbout"]], "MoreAbout",
 CellID->5788557]
}, Open  ]],

Cell[" ", "FooterCell"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{725, 750},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"SynthesiseStructure",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "SymbolColor", "LinkTrails" -> 
  GridBox[{{
      RowBox[{
        ButtonBox[
        "MaXrd: Mathematica X-ray diffraction package", ButtonData -> 
         "paclet:MaXrd/guide/MaXrd", 
         BaseStyle -> {"Link", "DockedLinkTrail"}]}]}}, ColumnAlignments -> 
    Left], "HasOptions" -> True, "ExampleCounter" -> 1, "NeedPlatMsgIn" -> 
  None, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2020, 9, 3, 23, 16, 46.625049}", 
    "history" -> {"1.7", "2.4.0", "", ""}, "context" -> "MaXrd`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "MaXrd Symbol", "language" -> "en", "paclet" -> "MaXrd", "status" -> 
    "None", "summary" -> 
    "SynthesiseStructure[entities, {A, B, C}, label] assembles entities to a \
structure with size A*B*C to be named label. SynthesiseStructure[domain, \
label, map] assembles the domain to a structure called label with map \
associating the domain identifiers with crystal labels. \
SynthesiseStructure[X] creates a crystal with a single atom at the origin of \
the chemical element X. SynthesiseStructure[X, {a, b, c, \\[Alpha], \\[Beta], \
\\[Gamma]}, sg, label] creates a crystal with a single element X with given \
lattice parameters {a, b, c, \\[Alpha], \\[Beta], \\[Gamma]} and space group \
sg, stored under label.", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "SynthesiseStructure", "titlemodifier" -> "", "windowtitle" -> 
    "SynthesiseStructure", "type" -> "Symbol", "uri" -> 
    "MaXrd/ref/SynthesiseStructure", "WorkflowDockedCell" -> ""}, 
  "SearchTextTranslated" -> "", "NewStyles" -> False},
CellContext->"Global`",
FrontEndVersion->"12.1 for Mac OS X x86 (64-bit) (June 19, 2020)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "12.1 for Mac OS X x86 (64-bit) (June 19, 2020)", 
  StyleDefinitions -> "Default.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[16264, 477, 267, 10, 70, "PrimaryExamplesSection",ExpressionUUID->"55e53b89-fd19-4a67-bbf0-b2bdf5ac85c8",
   CellTags->"PrimaryExamplesSection",
   CellID->824785292]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 194109, 5200}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[591, 21, 5147, 125, 70, "AnchorBarGrid",ExpressionUUID->"1e4f9c4c-f18a-4467-8985-32ae1f1989f1",
 CellID->1],
Cell[CellGroupData[{
Cell[5763, 150, 176, 6, 70, "ObjectNameGrid",ExpressionUUID->"af7c0fe2-124f-4254-b316-9fe93f4a3ae4"],
Cell[5942, 158, 3801, 120, 70, "Usage",ExpressionUUID->"b8c5fffc-029f-4810-a807-7642926b139e",
 CellID->982511436]
}, Open  ]],
Cell[CellGroupData[{
Cell[9780, 283, 641, 19, 70, "NotesSection",ExpressionUUID->"7e1cbd50-4600-4bb8-b154-61a2d7d69870",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->549857019],
Cell[10424, 304, 31, 0, 70, "SectionHeaderSpacer",ExpressionUUID->"f6ed3a1d-d8c7-47b4-99fd-e3b9fbf92dee"],
Cell[10458, 306, 642, 17, 70, "Notes",ExpressionUUID->"43f5639e-2103-4049-b44c-c6073d9fd59f",
 CellID->1067943069],
Cell[11103, 325, 282, 8, 70, "Notes",ExpressionUUID->"f3a565d7-f7ff-4e6a-bcf7-affff1c3f524",
 CellID->1519274391],
Cell[11388, 335, 632, 19, 70, "Notes",ExpressionUUID->"4bb9b727-6b56-48f4-be22-ae50e75ae57d",
 CellID->422530408],
Cell[12023, 356, 54, 1, 70, "Notes",ExpressionUUID->"836e85bf-3be9-4954-8fed-470e7a74ea87",
 CellID->1485514993],
Cell[12080, 359, 634, 14, 70, "3ColumnTableMod",ExpressionUUID->"834b7fa1-84e6-46a3-a1f8-c0c310274f3f",
 CellID->1407269227],
Cell[12717, 375, 267, 8, 70, "Notes",ExpressionUUID->"fb49cd1b-ce47-4326-9e44-13d7d65c36e6",
 CellID->956015342],
Cell[12987, 385, 1284, 29, 70, "3ColumnTableMod",ExpressionUUID->"e90b9ee7-69ee-46c4-953e-8d2387326d12",
 CellID->1399050214],
Cell[14274, 416, 418, 13, 70, "Notes",ExpressionUUID->"bc409f08-d165-4a6f-bdc8-344606e4354c",
 CellID->742680128],
Cell[14695, 431, 662, 13, 70, "2ColumnTableMod",ExpressionUUID->"50aea971-e056-44e1-b723-9fa00db6fea3",
 CellID->1785256896],
Cell[15360, 446, 361, 11, 70, "Notes",ExpressionUUID->"65376671-4e41-4793-bcf7-18c749d706f7",
 CellID->747782077],
Cell[15724, 459, 469, 11, 70, "Notes",ExpressionUUID->"a76c3f01-f2cc-4abb-9a78-43f6766ffd0d",
 CellID->445986520],
Cell[16196, 472, 31, 0, 70, "SectionFooterSpacer",ExpressionUUID->"3acae2e3-ca6c-419d-8592-fc9a9d72278b"]
}, Closed]],
Cell[CellGroupData[{
Cell[16264, 477, 267, 10, 70, "PrimaryExamplesSection",ExpressionUUID->"55e53b89-fd19-4a67-bbf0-b2bdf5ac85c8",
 CellTags->"PrimaryExamplesSection",
 CellID->824785292],
Cell[CellGroupData[{
Cell[16556, 491, 195, 6, 70, "ExampleSection",ExpressionUUID->"34b87b6c-4488-4845-b86b-90e34dc009f2",
 CellID->159461259],
Cell[16754, 499, 120, 3, 70, "ExampleText",ExpressionUUID->"1b9bfc64-239d-4ac7-83b1-cffa0df4afd7",
 CellID->395390669],
Cell[CellGroupData[{
Cell[16899, 506, 409, 11, 70, "Input",ExpressionUUID->"7c90959d-8b0f-485a-a1fa-fda636eb7f73",
 CellID->1500084331],
Cell[17311, 519, 2784, 84, 70, "Output",ExpressionUUID->"84a43d68-be4c-40a8-bc97-647fba75fa9c",
 CellID->138820997]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[20144, 609, 187, 6, 70, "ExampleSection",ExpressionUUID->"a9963b45-adc6-4bb7-b2cc-a91824695504",
 CellID->1293636265],
Cell[20334, 617, 149, 2, 70, "ExampleText",ExpressionUUID->"5849b1a6-c13e-4253-a5b7-35bb832e3dc3",
 CellID->1893812262],
Cell[CellGroupData[{
Cell[20508, 623, 1210, 34, 70, "Input",ExpressionUUID->"05bd2ecc-b380-4980-b03f-0f07c20a9443",
 CellID->1676600577],
Cell[21721, 659, 5540, 135, 70, "Output",ExpressionUUID->"beaa9ec2-8161-4e76-a5e4-07aa4a282f0d",
 CellID->1177624780]
}, Open  ]],
Cell[27276, 797, 338, 10, 70, "ExampleText",ExpressionUUID->"fc7e9e3a-a5d0-4099-92f7-5ede0f95b749",
 CellID->1491625736],
Cell[CellGroupData[{
Cell[27639, 811, 327, 10, 70, "Input",ExpressionUUID->"fc76f0f0-0c2b-4dd5-af76-079e9c2f6e28",
 CellID->1170983012],
Cell[27969, 823, 4016, 80, 70, "Output",ExpressionUUID->"45a2cf59-3229-4ac7-88ea-10b15661a8e2",
 CellID->1081557477]
}, Open  ]],
Cell[CellGroupData[{
Cell[32022, 908, 489, 12, 70, "Input",ExpressionUUID->"9eb8d20f-4ec4-4fa9-94ad-0f3777f65bff",
 CellID->1434927731],
Cell[32514, 922, 6189, 146, 70, "Output",ExpressionUUID->"dd991e0a-e635-447f-9691-8c755fcc82bb",
 CellID->1648429437]
}, Open  ]],
Cell[38718, 1071, 142, 4, 70, "ExampleText",ExpressionUUID->"520dc011-b044-48a9-af0a-10ea38072978",
 CellID->323679093],
Cell[CellGroupData[{
Cell[38885, 1079, 459, 12, 70, "Input",ExpressionUUID->"7fec3014-dc51-4e0a-aa7a-8632ae070f22",
 CellID->1781058774],
Cell[39347, 1093, 704, 12, 70, "Output",ExpressionUUID->"42872b80-1327-48ae-acbc-d82e37b0874a",
 CellID->1656820251]
}, Open  ]],
Cell[CellGroupData[{
Cell[40088, 1110, 255, 7, 70, "Input",ExpressionUUID->"074f9f6c-8a88-43ee-984f-26e71d387623",
 CellID->473147418],
Cell[40346, 1119, 6221, 147, 70, "Output",ExpressionUUID->"35f5f5b5-33fa-4744-949d-8b65598b20ed",
 CellID->1237188570]
}, Open  ]],
Cell[CellGroupData[{
Cell[46604, 1271, 125, 3, 70, "ExampleDelimiter",ExpressionUUID->"56dc47aa-6b47-4295-ab34-fff7ff21a0a6",
 CellID->389065708],
Cell[CellGroupData[{
Cell[46754, 1278, 222, 6, 70, "Input",ExpressionUUID->"08671b55-30e4-4f7d-a9b3-6ca459eb21db",
 CellID->1444558518],
Cell[46979, 1286, 2189, 69, 70, "Output",ExpressionUUID->"eaaa52e0-fd89-4479-98a4-385e15483e5c",
 CellID->1015321086]
}, Open  ]],
Cell[CellGroupData[{
Cell[49205, 1360, 342, 9, 70, "Input",ExpressionUUID->"30e60bf1-8389-44fb-a763-b153a5e0d873",
 CellID->720230864],
Cell[49550, 1371, 2434, 77, 70, "Output",ExpressionUUID->"60b65082-f36e-469e-a81d-30390a5186a0",
 CellID->683846926]
}, Open  ]],
Cell[CellGroupData[{
Cell[52021, 1453, 346, 9, 70, "Input",ExpressionUUID->"3eb3653a-74ba-4572-89f6-b62d7f2449d8",
 CellID->524533641],
Cell[52370, 1464, 2560, 81, 70, "Output",ExpressionUUID->"c29e72db-6ee8-43da-9d8d-afe36d6823a1",
 CellID->1040334644]
}, Open  ]]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[54991, 1552, 189, 6, 70, "ExampleSection",ExpressionUUID->"cbefb886-e269-4567-97c4-9163311bbde5",
 CellID->2061341341],
Cell[CellGroupData[{
Cell[55205, 1562, 206, 6, 70, "ExampleSubsection",ExpressionUUID->"ade5a972-4a9f-4e14-98f9-b25d5ee69b76",
 CellID->541763087],
Cell[55414, 1570, 144, 4, 70, "ExampleText",ExpressionUUID->"a3c18b64-30f2-4b54-ba1a-c99a70d58c4f",
 CellID->1308282002],
Cell[CellGroupData[{
Cell[55583, 1578, 346, 11, 70, "Input",ExpressionUUID->"e00d6d39-7ce0-4c30-9d1c-3ba82db16717",
 CellID->1257803191],
Cell[55932, 1591, 4630, 138, 70, "Output",ExpressionUUID->"19ce0f97-596a-4ec2-afdd-8e28be506b34",
 CellID->602266735]
}, Open  ]],
Cell[CellGroupData[{
Cell[60599, 1734, 616, 17, 70, "Input",ExpressionUUID->"36bfbf37-cd7d-47ae-b0b1-07faf0cffd75",
 CellID->1198643280],
Cell[61218, 1753, 187, 5, 70, "Output",ExpressionUUID->"fdf193f8-7a25-4360-b9c6-34c882b9600e",
 CellID->745232005]
}, Open  ]],
Cell[CellGroupData[{
Cell[61442, 1763, 274, 9, 70, "Input",ExpressionUUID->"15cdec93-a6d2-4c17-b32b-8b80611b75b1",
 CellID->48596643],
Cell[61719, 1774, 9205, 255, 70, "Output",ExpressionUUID->"4857bf1a-fdc5-445f-8bd6-5ce6b1fa2e14",
 CellID->532738322]
}, Open  ]],
Cell[70939, 2032, 333, 8, 70, "ExampleText",ExpressionUUID->"6e866659-18ff-4628-bd80-deaad7f97da8",
 CellID->1097175581],
Cell[CellGroupData[{
Cell[71297, 2044, 443, 13, 70, "Input",ExpressionUUID->"2cf250af-6738-44c1-aac1-467b455a94d3",
 CellID->1442251089],
Cell[71743, 2059, 612, 19, 70, "Output",ExpressionUUID->"c45f13e1-3a92-444f-beba-ce14a619de13",
 CellID->945862089]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[72404, 2084, 202, 6, 70, "ExampleSubsection",ExpressionUUID->"91f6582e-b6b2-4bdb-b314-cdc38ddcc3f6",
 CellID->947367356],
Cell[72609, 2092, 144, 4, 70, "ExampleText",ExpressionUUID->"c4972508-9e1c-48ac-adef-3b54c7bd8b8d",
 CellID->1974495011],
Cell[CellGroupData[{
Cell[72778, 2100, 559, 18, 70, "Input",ExpressionUUID->"0a1410f0-a403-4697-822d-c2349f54697b",
 CellID->272852786],
Cell[73340, 2120, 4844, 140, 70, "Output",ExpressionUUID->"97b1cebf-ed73-46ac-b16c-47f52a5a9498",
 CellID->132508451]
}, Open  ]],
Cell[78199, 2263, 198, 4, 70, "ExampleText",ExpressionUUID->"b77fe7ef-5d28-4145-a776-dd45fc2b4416",
 CellID->1280749984],
Cell[CellGroupData[{
Cell[78422, 2271, 909, 24, 70, "Input",ExpressionUUID->"d74a57ad-c9dd-445a-9d34-713fc12193ac",
 CellID->2002752601],
Cell[79334, 2297, 2583, 45, 70, "Output",ExpressionUUID->"f390502a-2ca7-4b4e-beea-ba511b35a0ce",
 CellID->1742510693]
}, Open  ]],
Cell[81932, 2345, 491, 12, 70, "ExampleText",ExpressionUUID->"e210580a-c995-4a3c-99e2-e8beb77bdd93",
 CellID->675834675],
Cell[CellGroupData[{
Cell[82448, 2361, 1340, 33, 70, "Input",ExpressionUUID->"0ec8a218-67cd-4d48-8dbf-56a92d0e08c0",
 CellID->631003679],
Cell[83791, 2396, 6402, 175, 70, "Output",ExpressionUUID->"c8803bb1-ba0f-4b02-8cce-bd3e5534d798",
 CellID->1315453198]
}, Open  ]],
Cell[CellGroupData[{
Cell[90230, 2576, 125, 3, 70, "ExampleDelimiter",ExpressionUUID->"b7ab7b04-457e-49a7-abaf-396542993321",
 CellID->367951646],
Cell[90358, 2581, 70, 1, 70, "ExampleText",ExpressionUUID->"83295163-c81b-4ed1-a8c7-1584bd157495",
 CellID->617629614],
Cell[CellGroupData[{
Cell[90453, 2586, 2426, 73, 70, "Input",ExpressionUUID->"4ff4f168-24a3-48ed-81bc-16636f74a753",
 CellID->1557894609],
Cell[92882, 2661, 2648, 77, 70, "Output",ExpressionUUID->"f86455d6-0fb7-41ff-87cf-df428ba98c41",
 CellID->1349900499]
}, Open  ]],
Cell[95545, 2741, 115, 2, 70, "ExampleText",ExpressionUUID->"05baa442-c07a-4786-8d3d-cad109697bd4",
 CellID->1939603606],
Cell[CellGroupData[{
Cell[95685, 2747, 431, 13, 70, "Input",ExpressionUUID->"dc126882-588f-48ac-9da6-a732e8421015",
 CellID->278970363],
Cell[96119, 2762, 1520, 32, 70, "Output",ExpressionUUID->"9e15bcf5-3048-48c3-aabc-3b0ec9c8018c",
 CellID->1026778780]
}, Open  ]],
Cell[97654, 2797, 316, 8, 70, "ExampleText",ExpressionUUID->"ce074d54-b1af-43c4-b934-0d5d28e1d71d",
 CellID->540536477],
Cell[CellGroupData[{
Cell[97995, 2809, 968, 24, 70, "Input",ExpressionUUID->"d8f6344b-7a37-4754-bf64-b7c7bbc92595",
 CellID->1702272783],
Cell[98966, 2835, 3416, 91, 70, "Output",ExpressionUUID->"f0f38e14-979c-4ff2-a408-6a8f82badfe1",
 CellID->1900357970]
}, Open  ]],
Cell[102397, 2929, 796, 17, 70, "ExampleText",ExpressionUUID->"266dedb0-063c-4956-8f2f-c10f9ed962c7",
 CellID->1298229345]
}, Open  ]]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[103254, 2953, 197, 6, 70, "ExampleSection",ExpressionUUID->"51f1a811-f28d-4a1c-aaa2-f43dcd0c2c7c",
 CellID->1305812373],
Cell[103454, 2961, 143, 4, 70, "ExampleText",ExpressionUUID->"1a24ed56-ec5a-47b7-a7a1-590e790c40de",
 CellID->268543758],
Cell[CellGroupData[{
Cell[103622, 2969, 558, 18, 70, "Input",ExpressionUUID->"e278f6d0-db06-420a-af69-8633b1eeaedc",
 CellID->31455363],
Cell[104183, 2989, 4845, 140, 70, "Output",ExpressionUUID->"6fdce4dc-a171-4054-a484-8bc842d3f639",
 CellID->1747610830]
}, Open  ]],
Cell[109043, 3132, 240, 7, 70, "ExampleText",ExpressionUUID->"f18dac56-ca22-4f31-ad7a-8cab89dd9620",
 CellID->331965144],
Cell[109286, 3141, 606, 18, 70, "Input",ExpressionUUID->"d71e129e-8aaa-42ac-8eec-131fb47972c9",
 CellID->372795548],
Cell[CellGroupData[{
Cell[109917, 3163, 292, 9, 70, "Input",ExpressionUUID->"21228dd5-ee0e-4480-8d31-506d5f6666da",
 CellID->1035364231],
Cell[110212, 3174, 7597, 167, 70, "Output",ExpressionUUID->"5566a41a-a2d0-4ad3-85fd-d44dfaa6c2e4",
 CellID->2084536829]
}, Open  ]],
Cell[117824, 3344, 187, 4, 70, "ExampleText",ExpressionUUID->"4dff37c4-6889-4de8-9ce3-e507efe0d51b",
 CellID->1429225744],
Cell[CellGroupData[{
Cell[118036, 3352, 396, 11, 70, "Input",ExpressionUUID->"e19b0378-f04b-4d8e-bbed-dd18784510ec",
 CellID->1842986012],
Cell[118435, 3365, 2948, 84, 70, "Output",ExpressionUUID->"5e1261f8-50b2-43f6-af31-b28b14a07fbd",
 CellID->652744583]
}, Open  ]],
Cell[121398, 3452, 222, 5, 70, "ExampleText",ExpressionUUID->"7f1114da-417b-4967-b224-ef22eff083b5",
 CellID->1042672064],
Cell[CellGroupData[{
Cell[121645, 3461, 281, 8, 70, "Input",ExpressionUUID->"e7f779ce-ae47-4c65-9e98-eeaa5a0faf02",
 CellID->1906135733],
Cell[121929, 3471, 35429, 755, 70, "Output",ExpressionUUID->"fd299907-cde3-4935-b950-3dc96e981fa0",
 CellID->2037484399]
}, Open  ]],
Cell[CellGroupData[{
Cell[157395, 4231, 400, 11, 70, "Input",ExpressionUUID->"af488208-bb00-4718-85ca-beb1b174d29e",
 CellID->13076351],
Cell[157798, 4244, 3026, 85, 70, "Output",ExpressionUUID->"f8b06b5d-e885-4a28-965f-c13aea816d5c",
 CellID->1661612542]
}, Open  ]],
Cell[160839, 4332, 315, 9, 70, "ExampleText",ExpressionUUID->"db639101-b2fe-4151-84f5-cbb7f458e9bf",
 CellID->1202069233]
}, Closed]],
Cell[CellGroupData[{
Cell[161191, 4346, 236, 8, 70, "ExampleSection",ExpressionUUID->"0bcd14df-6d3d-4ee3-88d8-d023cd025d8f",
 CellID->1903379581],
Cell[161430, 4356, 2990, 76, 70, "Input",ExpressionUUID->"fd9b9494-d03c-4665-838f-4bf06fec364d",
 InitializationCell->False,
 CellID->1064897428],
Cell[164423, 4434, 3822, 93, 70, "Input",ExpressionUUID->"6099aa7c-78c1-4f7a-ad16-3cd9037c4c70",
 InitializationCell->False,
 CellID->602358298],
Cell[168248, 4529, 15282, 359, 70, "Input",ExpressionUUID->"86364e43-df01-4e0e-b737-652fb88abc6d",
 InitializationCell->False,
 CellID->598002528],
Cell[183533, 4890, 4083, 98, 70, "Input",ExpressionUUID->"781852ab-f349-4f3e-a37f-c4d26ca17952",
 InitializationCell->False,
 CellID->405020136]
}, Closed]],
Cell[187631, 4991, 31, 0, 70, "SectionFooterSpacer",ExpressionUUID->"bc77d0b1-e6c9-4984-bd1b-e5e1e2c492ac"]
}, Open  ]],
Cell[CellGroupData[{
Cell[187699, 4996, 150, 7, 70, "SeeAlsoSection",ExpressionUUID->"03ec6f2d-4284-457c-9403-591b58fdabdf",
 CellID->1255426704],
Cell[187852, 5005, 2849, 89, 70, "SeeAlso",ExpressionUUID->"bbe06e05-4b13-4ad4-94bf-04aa147c82c5",
 CellID->929782353]
}, Open  ]],
Cell[CellGroupData[{
Cell[190738, 5099, 152, 7, 70, "TutorialsSection",ExpressionUUID->"f9c63e2e-3511-4676-a2a9-e32554b9a528",
 CellID->250839057],
Cell[190893, 5108, 31, 0, 70, "SectionHeaderSpacer",ExpressionUUID->"b9384829-d511-4e94-8b4c-f7c55efa3e2f"],
Cell[190927, 5110, 204, 7, 70, "Tutorials",ExpressionUUID->"10a4d604-3154-4e13-a53b-87c0e9fb810e",
 CellID->360339746],
Cell[191134, 5119, 31, 0, 70, "SectionFooterSpacer",ExpressionUUID->"fc4513c8-b662-4cb9-b662-12e54d724db1"]
}, Open  ]],
Cell[CellGroupData[{
Cell[191202, 5124, 156, 7, 70, "MoreAboutSection",ExpressionUUID->"f6a59c5f-67da-4f36-a00c-3a374e729680",
 CellID->38303248],
Cell[191361, 5133, 31, 0, 70, "SectionHeaderSpacer",ExpressionUUID->"ee32ba25-fb7f-47e2-8aa0-732ab24780fd"],
Cell[191395, 5135, 205, 7, 70, "MoreAbout",ExpressionUUID->"6cba5805-c5b3-4073-8e03-7707118104d9",
 CellID->5788557]
}, Open  ]],
Cell[191615, 5145, 23, 0, 70, "FooterCell",ExpressionUUID->"1762051a-9178-40d9-aa6f-37a47201f7b6"]
}
]
*)

(* End of internal cache information *)
